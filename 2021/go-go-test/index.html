<!DOCTYPE html>
<html lang="en-us">
  <head>
  <meta http-equiv="content-type" content="text/html;charset=utf-8">
  <meta http-equiv="X-UA-Compatible" content="chrome=1">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <meta name="robots" content="noodp"/>
  <meta name="author" content="Jiang .">
  
  
  
  <link rel="prev" href="https://jfy0o0.github.io/2021/go-cgo/" />
  <link rel="next" href="https://jfy0o0.github.io/2021/go-%E9%99%B7%E9%98%B1/" />
  <link rel="canonical" href="https://jfy0o0.github.io/2021/go-go-test/" />
  <link rel="apple-touch-icon" sizes="180x180" href="/apple-touch-icon.png">
  <link rel="icon" type="image/png" sizes="32x32" href="/favicon-32x32.png">
  <link rel="icon" type="image/png" sizes="16x16" href="/favicon-16x16.png">
  <link rel="manifest" href="/site.webmanifest">
  <link rel="mask-icon" href="/safari-pinned-tab.svg" color="#5bbad5">
  <meta name="msapplication-TileColor" content="#da532c">
  <meta name="theme-color" content="#ffffff">
  <title>
       
       
           Go - go test | Jiang . &#39;s blog
       
  </title>
  <meta name="title" content="Go - go test | Jiang . &#39;s blog">
    
  
  <link rel="stylesheet" href="/font/iconfont.css">
  <link rel="stylesheet" href="/css/main.min.css">


  
  
 

<script type="application/ld+json">
 "@context" : "http://schema.org",
    "@type" : "BlogPosting",
    "mainEntityOfPage": {
         "@type": "WebPage",
         "@id": "https:\/\/jfy0o0.github.io"
    },
    "articleSection" : "posts",
    "name" : "Go - go test",
    "headline" : "Go - go test",
    "description" : "go testå·¥å…·  go testå‘½ä»¤æ˜¯ä¸€ä¸ªæŒ‰ç…§ä¸€å®šçº¦å®šå’Œç»„ç»‡çš„æµ‹è¯•ä»£ç çš„é©±åŠ¨ç¨‹åºã€‚ åœ¨åŒ…ç›®å½•å†…ï¼Œæ‰€æœ‰ä»¥_test.goä¸ºåç¼€åçš„æºä»£ç æ–‡ä»¶éƒ½æ˜¯go testæµ‹è¯•çš„ä¸€éƒ¨åˆ†ï¼Œä¸ä¼šè¢«go buildç¼–è¯‘åˆ°æœ€ç»ˆçš„å¯æ‰§è¡Œæ–‡ä»¶ä¸­ã€‚ åœ¨*_test.goæ–‡ä»¶ä¸­æœ‰ä¸‰ç§ç±»å‹çš„å‡½æ•°ï¼Œå•å…ƒæµ‹è¯•å‡½æ•°ã€åŸºå‡†æµ‹è¯•å‡½æ•°å’Œç¤ºä¾‹å‡½æ•°ã€‚     ç±»å‹ æ ¼å¼ ä½œç”¨     æµ‹è¯•å‡½æ•° å‡½æ•°åå‰ç¼€ä¸ºTest æµ‹è¯•ç¨‹åºçš„ä¸€äº›é€»è¾‘è¡Œä¸ºæ˜¯å¦æ­£ç¡®   åŸºå‡†å‡½æ•° å‡½æ•°åå‰ç¼€ä¸ºBenchmark æµ‹è¯•å‡½æ•°çš„æ€§èƒ½   ç¤ºä¾‹å‡½æ•° å‡½æ•°åå‰ç¼€ä¸ºExample ä¸ºæ–‡æ¡£æä¾›ç¤ºä¾‹æ–‡æ¡£     go testå‘½ä»¤ä¼šéå†æ‰€æœ‰çš„*_test.goæ–‡ä»¶ä¸­ç¬¦åˆä¸Šè¿°å‘½åè§„åˆ™çš„å‡½æ•°ï¼Œ ç„¶åç”Ÿæˆä¸€ä¸ªä¸´æ—¶çš„mainåŒ…ç”¨äºè°ƒç”¨ç›¸åº”çš„æµ‹è¯•å‡½æ•°ï¼Œ ç„¶åæ„å»ºå¹¶è¿è¡Œã€æŠ¥å‘Šæµ‹è¯•ç»“æœï¼Œ æœ€åæ¸…ç†æµ‹è¯•ä¸­ç”Ÿæˆçš„ä¸´æ—¶æ–‡ä»¶ã€‚  æµ‹è¯•å‡½æ•° æ¯ä¸ªæµ‹è¯•å‡½æ•°å¿…é¡»å¯¼å…¥testingåŒ…ï¼Œæµ‹è¯•å‡½æ•°çš„åŸºæœ¬æ ¼å¼ï¼ˆç­¾åï¼‰å¦‚ä¸‹ï¼š\nfunc TestName(t *testing.T){ \/\/ ... } æµ‹è¯•å‡½æ•°çš„åå­—å¿…é¡»ä»¥Testå¼€å¤´ï¼Œå¯é€‰çš„åç¼€åå¿…é¡»ä»¥å¤§å†™å­—æ¯å¼€å¤´ï¼Œä¸¾å‡ ä¸ªä¾‹å­ï¼š\nfunc TestAdd(t *testing.T){ ... } func TestSum(t *testing.T){ ... } func TestLog(t *testing.T){ ... } å…¶ä¸­å‚æ•°tç”¨äºæŠ¥å‘Šæµ‹è¯•å¤±è´¥å’Œé™„åŠ çš„æ—¥å¿—ä¿¡æ¯ã€‚ testing.Tçš„æ‹¥æœ‰çš„æ–¹æ³•å¦‚ä¸‹ï¼š\nfunc (c *T) Error(args .",
    "inLanguage" : "en-us",
    "author" : "Jiang .",
    "creator" : "Jiang .",
    "publisher": "Jiang .",
    "accountablePerson" : "Jiang .",
    "copyrightHolder" : "Jiang .",
    "copyrightYear" : "2021",
    "datePublished": "2021-07-23 15:22:31 \u002b0800 CST",
    "dateModified" : "2021-07-23 15:22:31 \u002b0800 CST",
    "url" : "https:\/\/jfy0o0.github.io\/2021\/go-go-test\/",
    "wordCount" : "1365",
    "keywords" : [ "Go", "Jiang . \u0027s blog"]
}
</script>

</head>

  


  <body class="">
    <div class="wrapper">
        <nav class="navbar">
    <div class="container">
        <div class="navbar-header header-logo">
        	<a href="javascript:void(0);" class="theme-switch"><i class="iconfont icon-xihuan"></i></a>&nbsp;<a href="https://jfy0o0.github.io">Jiang . &#39;s blog</a>
        </div>
        <div class="menu navbar-right">
                
                
                <a class="menu-item" href="/posts/" title="">Blog</a>
                
                <a class="menu-item" href="/categories/" title="">Categories</a>
                
                <a class="menu-item" href="/tags/" title="">Tags</a>
                
                <a class="menu-item" href="/about/" title="">About</a>
                
        </div>
    </div>
</nav>
<nav class="navbar-mobile" id="nav-mobile" style="display: none">
     <div class="container">
        <div class="navbar-header">
            <div>  <a href="javascript:void(0);" class="theme-switch"><i class="iconfont icon-xihuan"></i></a>&nbsp;<a href="https://jfy0o0.github.io">Jiang . &#39;s blog</a></div>
            <div class="menu-toggle">
                <span></span><span></span><span></span>
            </div>
        </div>
     
          <div class="menu" id="mobile-menu">
                
                
                <a class="menu-item" href="/posts/" title="">Blog</a>
                
                <a class="menu-item" href="/categories/" title="">Categories</a>
                
                <a class="menu-item" href="/tags/" title="">Tags</a>
                
                <a class="menu-item" href="/about/" title="">About</a>
                
        </div>
    </div>
</nav>
    	 <main class="main">
          <div class="container">
      		
<article class="post-warp" itemscope itemtype="http://schema.org/Article">
    <header class="post-header">
        <h1 class="post-title" itemprop="name headline">Go - go test</h1>
        <div class="post-meta">
                Written by <a itemprop="name" href="https://jfy0o0.github.io" rel="author">Jiang .</a> with â™¥ 
                <span class="post-time">
                on <time datetime=2021-07-23 itemprop="datePublished">July 23, 2021</time>
                </span>
                in
                <i class="iconfont icon-folder"></i>
                <span class="post-category">
                        <a href="https://jfy0o0.github.io/categories/go/"> Go </a>
                        
                </span>
        </div>
    </header>
    <div class="post-content">
        

        

        
        
     
          
          
          

          
          
          

          <h1 id="go-testå·¥å…·">go testå·¥å…·</h1>
<ul>
<li>go testå‘½ä»¤æ˜¯ä¸€ä¸ªæŒ‰ç…§ä¸€å®šçº¦å®šå’Œç»„ç»‡çš„æµ‹è¯•ä»£ç çš„é©±åŠ¨ç¨‹åºã€‚</li>
<li>åœ¨åŒ…ç›®å½•å†…ï¼Œæ‰€æœ‰ä»¥<code>_test.go</code>ä¸ºåç¼€åçš„æºä»£ç æ–‡ä»¶éƒ½æ˜¯<code>go test</code>æµ‹è¯•çš„ä¸€éƒ¨åˆ†ï¼Œä¸ä¼šè¢«<code>go build</code>ç¼–è¯‘åˆ°æœ€ç»ˆçš„å¯æ‰§è¡Œæ–‡ä»¶ä¸­ã€‚</li>
<li>åœ¨<code>*_test.go</code>æ–‡ä»¶ä¸­æœ‰ä¸‰ç§ç±»å‹çš„å‡½æ•°ï¼Œå•å…ƒæµ‹è¯•å‡½æ•°ã€åŸºå‡†æµ‹è¯•å‡½æ•°å’Œç¤ºä¾‹å‡½æ•°ã€‚</li>
</ul>
<table>
<thead>
<tr>
<th style="text-align:center">ç±»å‹</th>
<th style="text-align:center">æ ¼å¼</th>
<th style="text-align:center">ä½œç”¨</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:center">æµ‹è¯•å‡½æ•°</td>
<td style="text-align:center">å‡½æ•°åå‰ç¼€ä¸ºTest</td>
<td style="text-align:center">æµ‹è¯•ç¨‹åºçš„ä¸€äº›é€»è¾‘è¡Œä¸ºæ˜¯å¦æ­£ç¡®</td>
</tr>
<tr>
<td style="text-align:center">åŸºå‡†å‡½æ•°</td>
<td style="text-align:center">å‡½æ•°åå‰ç¼€ä¸ºBenchmark</td>
<td style="text-align:center">æµ‹è¯•å‡½æ•°çš„æ€§èƒ½</td>
</tr>
<tr>
<td style="text-align:center">ç¤ºä¾‹å‡½æ•°</td>
<td style="text-align:center">å‡½æ•°åå‰ç¼€ä¸ºExample</td>
<td style="text-align:center">ä¸ºæ–‡æ¡£æä¾›ç¤ºä¾‹æ–‡æ¡£</td>
</tr>
</tbody>
</table>
<ul>
<li><code>go test</code>å‘½ä»¤ä¼šéå†æ‰€æœ‰çš„<code>*_test.go</code>æ–‡ä»¶ä¸­ç¬¦åˆä¸Šè¿°å‘½åè§„åˆ™çš„å‡½æ•°ï¼Œ</li>
<li>ç„¶åç”Ÿæˆä¸€ä¸ªä¸´æ—¶çš„mainåŒ…ç”¨äºè°ƒç”¨ç›¸åº”çš„æµ‹è¯•å‡½æ•°ï¼Œ</li>
<li>ç„¶åæ„å»ºå¹¶è¿è¡Œã€æŠ¥å‘Šæµ‹è¯•ç»“æœï¼Œ</li>
<li>æœ€åæ¸…ç†æµ‹è¯•ä¸­ç”Ÿæˆçš„ä¸´æ—¶æ–‡ä»¶ã€‚</li>
</ul>
<h1 id="æµ‹è¯•å‡½æ•°">æµ‹è¯•å‡½æ•°</h1>
<p>æ¯ä¸ªæµ‹è¯•å‡½æ•°å¿…é¡»å¯¼å…¥<code>testing</code>åŒ…ï¼Œæµ‹è¯•å‡½æ•°çš„åŸºæœ¬æ ¼å¼ï¼ˆç­¾åï¼‰å¦‚ä¸‹ï¼š</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-go" data-lang="go"><span style="color:#66d9ef">func</span> <span style="color:#a6e22e">TestName</span>(<span style="color:#a6e22e">t</span> <span style="color:#f92672">*</span><span style="color:#a6e22e">testing</span>.<span style="color:#a6e22e">T</span>){
    <span style="color:#75715e">// ...
</span><span style="color:#75715e"></span>}
</code></pre></div><p>æµ‹è¯•å‡½æ•°çš„åå­—å¿…é¡»ä»¥<code>Test</code>å¼€å¤´ï¼Œå¯é€‰çš„åç¼€åå¿…é¡»ä»¥å¤§å†™å­—æ¯å¼€å¤´ï¼Œä¸¾å‡ ä¸ªä¾‹å­ï¼š</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-go" data-lang="go"><span style="color:#66d9ef">func</span> <span style="color:#a6e22e">TestAdd</span>(<span style="color:#a6e22e">t</span> <span style="color:#f92672">*</span><span style="color:#a6e22e">testing</span>.<span style="color:#a6e22e">T</span>){ <span style="color:#f92672">...</span> }
<span style="color:#66d9ef">func</span> <span style="color:#a6e22e">TestSum</span>(<span style="color:#a6e22e">t</span> <span style="color:#f92672">*</span><span style="color:#a6e22e">testing</span>.<span style="color:#a6e22e">T</span>){ <span style="color:#f92672">...</span> }
<span style="color:#66d9ef">func</span> <span style="color:#a6e22e">TestLog</span>(<span style="color:#a6e22e">t</span> <span style="color:#f92672">*</span><span style="color:#a6e22e">testing</span>.<span style="color:#a6e22e">T</span>){ <span style="color:#f92672">...</span> }
</code></pre></div><p>å…¶ä¸­å‚æ•°<code>t</code>ç”¨äºæŠ¥å‘Šæµ‹è¯•å¤±è´¥å’Œé™„åŠ çš„æ—¥å¿—ä¿¡æ¯ã€‚ <code>testing.T</code>çš„æ‹¥æœ‰çš„æ–¹æ³•å¦‚ä¸‹ï¼š</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-go" data-lang="go"><span style="color:#66d9ef">func</span> (<span style="color:#a6e22e">c</span> <span style="color:#f92672">*</span><span style="color:#a6e22e">T</span>) <span style="color:#a6e22e">Error</span>(<span style="color:#a6e22e">args</span> <span style="color:#f92672">...</span><span style="color:#66d9ef">interface</span>{})
<span style="color:#66d9ef">func</span> (<span style="color:#a6e22e">c</span> <span style="color:#f92672">*</span><span style="color:#a6e22e">T</span>) <span style="color:#a6e22e">Errorf</span>(<span style="color:#a6e22e">format</span> <span style="color:#66d9ef">string</span>, <span style="color:#a6e22e">args</span> <span style="color:#f92672">...</span><span style="color:#66d9ef">interface</span>{})
<span style="color:#66d9ef">func</span> (<span style="color:#a6e22e">c</span> <span style="color:#f92672">*</span><span style="color:#a6e22e">T</span>) <span style="color:#a6e22e">Fail</span>()
<span style="color:#66d9ef">func</span> (<span style="color:#a6e22e">c</span> <span style="color:#f92672">*</span><span style="color:#a6e22e">T</span>) <span style="color:#a6e22e">FailNow</span>()
<span style="color:#66d9ef">func</span> (<span style="color:#a6e22e">c</span> <span style="color:#f92672">*</span><span style="color:#a6e22e">T</span>) <span style="color:#a6e22e">Failed</span>() <span style="color:#66d9ef">bool</span>
<span style="color:#66d9ef">func</span> (<span style="color:#a6e22e">c</span> <span style="color:#f92672">*</span><span style="color:#a6e22e">T</span>) <span style="color:#a6e22e">Fatal</span>(<span style="color:#a6e22e">args</span> <span style="color:#f92672">...</span><span style="color:#66d9ef">interface</span>{})
<span style="color:#66d9ef">func</span> (<span style="color:#a6e22e">c</span> <span style="color:#f92672">*</span><span style="color:#a6e22e">T</span>) <span style="color:#a6e22e">Fatalf</span>(<span style="color:#a6e22e">format</span> <span style="color:#66d9ef">string</span>, <span style="color:#a6e22e">args</span> <span style="color:#f92672">...</span><span style="color:#66d9ef">interface</span>{})
<span style="color:#66d9ef">func</span> (<span style="color:#a6e22e">c</span> <span style="color:#f92672">*</span><span style="color:#a6e22e">T</span>) <span style="color:#a6e22e">Log</span>(<span style="color:#a6e22e">args</span> <span style="color:#f92672">...</span><span style="color:#66d9ef">interface</span>{})
<span style="color:#66d9ef">func</span> (<span style="color:#a6e22e">c</span> <span style="color:#f92672">*</span><span style="color:#a6e22e">T</span>) <span style="color:#a6e22e">Logf</span>(<span style="color:#a6e22e">format</span> <span style="color:#66d9ef">string</span>, <span style="color:#a6e22e">args</span> <span style="color:#f92672">...</span><span style="color:#66d9ef">interface</span>{})
<span style="color:#66d9ef">func</span> (<span style="color:#a6e22e">c</span> <span style="color:#f92672">*</span><span style="color:#a6e22e">T</span>) <span style="color:#a6e22e">Name</span>() <span style="color:#66d9ef">string</span>
<span style="color:#66d9ef">func</span> (<span style="color:#a6e22e">t</span> <span style="color:#f92672">*</span><span style="color:#a6e22e">T</span>) <span style="color:#a6e22e">Parallel</span>()
<span style="color:#66d9ef">func</span> (<span style="color:#a6e22e">t</span> <span style="color:#f92672">*</span><span style="color:#a6e22e">T</span>) <span style="color:#a6e22e">Run</span>(<span style="color:#a6e22e">name</span> <span style="color:#66d9ef">string</span>, <span style="color:#a6e22e">f</span> <span style="color:#66d9ef">func</span>(<span style="color:#a6e22e">t</span> <span style="color:#f92672">*</span><span style="color:#a6e22e">T</span>)) <span style="color:#66d9ef">bool</span>
<span style="color:#66d9ef">func</span> (<span style="color:#a6e22e">c</span> <span style="color:#f92672">*</span><span style="color:#a6e22e">T</span>) <span style="color:#a6e22e">Skip</span>(<span style="color:#a6e22e">args</span> <span style="color:#f92672">...</span><span style="color:#66d9ef">interface</span>{})
<span style="color:#66d9ef">func</span> (<span style="color:#a6e22e">c</span> <span style="color:#f92672">*</span><span style="color:#a6e22e">T</span>) <span style="color:#a6e22e">SkipNow</span>()
<span style="color:#66d9ef">func</span> (<span style="color:#a6e22e">c</span> <span style="color:#f92672">*</span><span style="color:#a6e22e">T</span>) <span style="color:#a6e22e">Skipf</span>(<span style="color:#a6e22e">format</span> <span style="color:#66d9ef">string</span>, <span style="color:#a6e22e">args</span> <span style="color:#f92672">...</span><span style="color:#66d9ef">interface</span>{})
<span style="color:#66d9ef">func</span> (<span style="color:#a6e22e">c</span> <span style="color:#f92672">*</span><span style="color:#a6e22e">T</span>) <span style="color:#a6e22e">Skipped</span>() <span style="color:#66d9ef">bool</span>
</code></pre></div><h2 id="æµ‹è¯•å‡½æ•°ç¤ºä¾‹">æµ‹è¯•å‡½æ•°ç¤ºä¾‹</h2>
<p>æˆ‘ä»¬å®šä¹‰ä¸€ä¸ª<code>split</code>çš„åŒ…ï¼ŒåŒ…ä¸­å®šä¹‰äº†ä¸€ä¸ª<code>Split</code>å‡½æ•°ï¼Œå…·ä½“å®ç°å¦‚ä¸‹ï¼š</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-go" data-lang="go"><span style="color:#75715e">// split/split.go
</span><span style="color:#75715e"></span>
<span style="color:#f92672">package</span> <span style="color:#a6e22e">split</span>

<span style="color:#f92672">import</span> <span style="color:#e6db74">&#34;strings&#34;</span>

<span style="color:#75715e">// split package with a single split function.
</span><span style="color:#75715e"></span>
<span style="color:#75715e">// Split slices s into all substrings separated by sep and
</span><span style="color:#75715e">// returns a slice of the substrings between those separators.
</span><span style="color:#75715e"></span><span style="color:#66d9ef">func</span> <span style="color:#a6e22e">Split</span>(<span style="color:#a6e22e">s</span>, <span style="color:#a6e22e">sep</span> <span style="color:#66d9ef">string</span>) (<span style="color:#a6e22e">result</span> []<span style="color:#66d9ef">string</span>) {
	<span style="color:#a6e22e">i</span> <span style="color:#f92672">:=</span> <span style="color:#a6e22e">strings</span>.<span style="color:#a6e22e">Index</span>(<span style="color:#a6e22e">s</span>, <span style="color:#a6e22e">sep</span>)

	<span style="color:#66d9ef">for</span> <span style="color:#a6e22e">i</span> &gt; <span style="color:#f92672">-</span><span style="color:#ae81ff">1</span> {
		<span style="color:#a6e22e">result</span> = append(<span style="color:#a6e22e">result</span>, <span style="color:#a6e22e">s</span>[:<span style="color:#a6e22e">i</span>])
		<span style="color:#a6e22e">s</span> = <span style="color:#a6e22e">s</span>[<span style="color:#a6e22e">i</span><span style="color:#f92672">+</span><span style="color:#ae81ff">1</span>:]
		<span style="color:#a6e22e">i</span> = <span style="color:#a6e22e">strings</span>.<span style="color:#a6e22e">Index</span>(<span style="color:#a6e22e">s</span>, <span style="color:#a6e22e">sep</span>)
	}
	<span style="color:#a6e22e">result</span> = append(<span style="color:#a6e22e">result</span>, <span style="color:#a6e22e">s</span>)
	<span style="color:#66d9ef">return</span>
}
</code></pre></div><p>åœ¨å½“å‰ç›®å½•ä¸‹ï¼Œæˆ‘ä»¬åˆ›å»ºä¸€ä¸ª<code>split_test.go</code>çš„æµ‹è¯•æ–‡ä»¶ï¼Œå¹¶å®šä¹‰ä¸€ä¸ªæµ‹è¯•å‡½æ•°å¦‚ä¸‹ï¼š</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-go" data-lang="go"><span style="color:#75715e">// split/split_test.go
</span><span style="color:#75715e"></span>
<span style="color:#f92672">package</span> <span style="color:#a6e22e">split</span>

<span style="color:#f92672">import</span> (
	<span style="color:#e6db74">&#34;reflect&#34;</span>
	<span style="color:#e6db74">&#34;testing&#34;</span>
)

<span style="color:#66d9ef">func</span> <span style="color:#a6e22e">TestSplit</span>(<span style="color:#a6e22e">t</span> <span style="color:#f92672">*</span><span style="color:#a6e22e">testing</span>.<span style="color:#a6e22e">T</span>) { <span style="color:#75715e">// æµ‹è¯•å‡½æ•°åå¿…é¡»ä»¥Testå¼€å¤´ï¼Œå¿…é¡»æ¥æ”¶ä¸€ä¸ª*testing.Tç±»å‹å‚æ•°
</span><span style="color:#75715e"></span>	<span style="color:#a6e22e">got</span> <span style="color:#f92672">:=</span> <span style="color:#a6e22e">Split</span>(<span style="color:#e6db74">&#34;ağŸ…±ï¸c&#34;</span>, <span style="color:#e6db74">&#34;:&#34;</span>)         <span style="color:#75715e">// ç¨‹åºè¾“å‡ºçš„ç»“æœ
</span><span style="color:#75715e"></span>	<span style="color:#a6e22e">want</span> <span style="color:#f92672">:=</span> []<span style="color:#66d9ef">string</span>{<span style="color:#e6db74">&#34;a&#34;</span>, <span style="color:#e6db74">&#34;b&#34;</span>, <span style="color:#e6db74">&#34;c&#34;</span>}    <span style="color:#75715e">// æœŸæœ›çš„ç»“æœ
</span><span style="color:#75715e"></span>	<span style="color:#66d9ef">if</span> !<span style="color:#a6e22e">reflect</span>.<span style="color:#a6e22e">DeepEqual</span>(<span style="color:#a6e22e">want</span>, <span style="color:#a6e22e">got</span>) { <span style="color:#75715e">// å› ä¸ºsliceä¸èƒ½æ¯”è¾ƒç›´æ¥ï¼Œå€ŸåŠ©åå°„åŒ…ä¸­çš„æ–¹æ³•æ¯”è¾ƒ
</span><span style="color:#75715e"></span>		<span style="color:#a6e22e">t</span>.<span style="color:#a6e22e">Errorf</span>(<span style="color:#e6db74">&#34;excepted:%v, got:%v&#34;</span>, <span style="color:#a6e22e">want</span>, <span style="color:#a6e22e">got</span>) <span style="color:#75715e">// æµ‹è¯•å¤±è´¥è¾“å‡ºé”™è¯¯æç¤º
</span><span style="color:#75715e"></span>	}
}
</code></pre></div><p>æ­¤æ—¶<code>split</code>è¿™ä¸ªåŒ…ä¸­çš„æ–‡ä»¶å¦‚ä¸‹ï¼š</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-bash" data-lang="bash">split $ ls -l
total <span style="color:#ae81ff">16</span>
-rw-r--r--  <span style="color:#ae81ff">1</span> liwenzhou  staff  <span style="color:#ae81ff">408</span>  <span style="color:#ae81ff">4</span> <span style="color:#ae81ff">29</span> 15:50 split.go
-rw-r--r--  <span style="color:#ae81ff">1</span> liwenzhou  staff  <span style="color:#ae81ff">466</span>  <span style="color:#ae81ff">4</span> <span style="color:#ae81ff">29</span> 16:04 split_test.go
</code></pre></div><p>åœ¨<code>split</code>åŒ…è·¯å¾„ä¸‹ï¼Œæ‰§è¡Œ<code>go test</code>å‘½ä»¤ï¼Œå¯ä»¥çœ‹åˆ°è¾“å‡ºç»“æœå¦‚ä¸‹ï¼š</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-bash" data-lang="bash">split $ go test
PASS
ok      github.com/Q1mi/studygo/code_demo/test_demo/split       0.005s
</code></pre></div><p>è¿™ä¸€æ¬¡ï¼Œæˆ‘ä»¬çš„æµ‹è¯•å¤±è´¥äº†ã€‚æˆ‘ä»¬å¯ä»¥ä¸º<code>go test</code>å‘½ä»¤æ·»åŠ <code>-v</code>å‚æ•°ï¼ŒæŸ¥çœ‹æµ‹è¯•å‡½æ•°åç§°å’Œè¿è¡Œæ—¶é—´ï¼š</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-bash" data-lang="bash">split $ go test -v
<span style="color:#f92672">===</span> RUN   TestSplit
--- PASS: TestSplit <span style="color:#f92672">(</span>0.00s<span style="color:#f92672">)</span>
<span style="color:#f92672">===</span> RUN   TestMoreSplit
--- FAIL: TestMoreSplit <span style="color:#f92672">(</span>0.00s<span style="color:#f92672">)</span>
    split_test.go:21: excepted:<span style="color:#f92672">[</span>a d<span style="color:#f92672">]</span>, got:<span style="color:#f92672">[</span>a cd<span style="color:#f92672">]</span>
FAIL
exit status <span style="color:#ae81ff">1</span>
FAIL    github.com/Q1mi/studygo/code_demo/test_demo/split       0.005s
</code></pre></div><p>è¿™ä¸€æ¬¡æˆ‘ä»¬èƒ½æ¸…æ¥šçš„çœ‹åˆ°æ˜¯<code>TestMoreSplit</code>è¿™ä¸ªæµ‹è¯•æ²¡æœ‰æˆåŠŸã€‚ è¿˜å¯ä»¥åœ¨<code>go test</code>å‘½ä»¤åæ·»åŠ <code>-run</code>å‚æ•°ï¼Œå®ƒå¯¹åº”ä¸€ä¸ªæ­£åˆ™è¡¨è¾¾å¼ï¼Œåªæœ‰å‡½æ•°ååŒ¹é…ä¸Šçš„æµ‹è¯•å‡½æ•°æ‰ä¼šè¢«<code>go test</code>å‘½ä»¤æ‰§è¡Œã€‚</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-bash" data-lang="bash">split $ go test -v -run<span style="color:#f92672">=</span><span style="color:#e6db74">&#34;More&#34;</span>
<span style="color:#f92672">===</span> RUN   TestMoreSplit
--- FAIL: TestMoreSplit <span style="color:#f92672">(</span>0.00s<span style="color:#f92672">)</span>
    split_test.go:21: excepted:<span style="color:#f92672">[</span>a d<span style="color:#f92672">]</span>, got:<span style="color:#f92672">[</span>a cd<span style="color:#f92672">]</span>
FAIL
exit status <span style="color:#ae81ff">1</span>
FAIL    github.com/Q1mi/studygo/code_demo/test_demo/split       0.006s
</code></pre></div><h2 id="æµ‹è¯•ç»„">æµ‹è¯•ç»„</h2>
<p>æˆ‘ä»¬ç°åœ¨è¿˜æƒ³è¦æµ‹è¯•ä¸€ä¸‹<code>split</code>å‡½æ•°å¯¹ä¸­æ–‡å­—ç¬¦ä¸²çš„æ”¯æŒï¼Œè¿™ä¸ªæ—¶å€™æˆ‘ä»¬å¯ä»¥å†ç¼–å†™ä¸€ä¸ª<code>TestChineseSplit</code>æµ‹è¯•å‡½æ•°ï¼Œä½†æ˜¯æˆ‘ä»¬ä¹Ÿå¯ä»¥ä½¿ç”¨å¦‚ä¸‹æ›´å‹å¥½çš„ä¸€ç§æ–¹å¼æ¥æ·»åŠ æ›´å¤šçš„æµ‹è¯•ç”¨ä¾‹ã€‚</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-go" data-lang="go"><span style="color:#66d9ef">func</span> <span style="color:#a6e22e">TestSplit</span>(<span style="color:#a6e22e">t</span> <span style="color:#f92672">*</span><span style="color:#a6e22e">testing</span>.<span style="color:#a6e22e">T</span>) {
   <span style="color:#75715e">// å®šä¹‰ä¸€ä¸ªæµ‹è¯•ç”¨ä¾‹ç±»å‹
</span><span style="color:#75715e"></span>	<span style="color:#66d9ef">type</span> <span style="color:#a6e22e">test</span> <span style="color:#66d9ef">struct</span> {
		<span style="color:#a6e22e">input</span> <span style="color:#66d9ef">string</span>
		<span style="color:#a6e22e">sep</span>   <span style="color:#66d9ef">string</span>
		<span style="color:#a6e22e">want</span>  []<span style="color:#66d9ef">string</span>
	}
	<span style="color:#75715e">// å®šä¹‰ä¸€ä¸ªå­˜å‚¨æµ‹è¯•ç”¨ä¾‹çš„åˆ‡ç‰‡
</span><span style="color:#75715e"></span>	<span style="color:#a6e22e">tests</span> <span style="color:#f92672">:=</span> []<span style="color:#a6e22e">test</span>{
		{<span style="color:#a6e22e">input</span>: <span style="color:#e6db74">&#34;ağŸ…±ï¸c&#34;</span>, <span style="color:#a6e22e">sep</span>: <span style="color:#e6db74">&#34;:&#34;</span>, <span style="color:#a6e22e">want</span>: []<span style="color:#66d9ef">string</span>{<span style="color:#e6db74">&#34;a&#34;</span>, <span style="color:#e6db74">&#34;b&#34;</span>, <span style="color:#e6db74">&#34;c&#34;</span>}},
		{<span style="color:#a6e22e">input</span>: <span style="color:#e6db74">&#34;ağŸ…±ï¸c&#34;</span>, <span style="color:#a6e22e">sep</span>: <span style="color:#e6db74">&#34;,&#34;</span>, <span style="color:#a6e22e">want</span>: []<span style="color:#66d9ef">string</span>{<span style="color:#e6db74">&#34;ağŸ…±ï¸c&#34;</span>}},
		{<span style="color:#a6e22e">input</span>: <span style="color:#e6db74">&#34;abcd&#34;</span>, <span style="color:#a6e22e">sep</span>: <span style="color:#e6db74">&#34;bc&#34;</span>, <span style="color:#a6e22e">want</span>: []<span style="color:#66d9ef">string</span>{<span style="color:#e6db74">&#34;a&#34;</span>, <span style="color:#e6db74">&#34;d&#34;</span>}},
		{<span style="color:#a6e22e">input</span>: <span style="color:#e6db74">&#34;æ²™æ²³æœ‰æ²™åˆæœ‰æ²³&#34;</span>, <span style="color:#a6e22e">sep</span>: <span style="color:#e6db74">&#34;æ²™&#34;</span>, <span style="color:#a6e22e">want</span>: []<span style="color:#66d9ef">string</span>{<span style="color:#e6db74">&#34;æ²³æœ‰&#34;</span>, <span style="color:#e6db74">&#34;åˆæœ‰æ²³&#34;</span>}},
	}
	<span style="color:#75715e">// éå†åˆ‡ç‰‡ï¼Œé€ä¸€æ‰§è¡Œæµ‹è¯•ç”¨ä¾‹
</span><span style="color:#75715e"></span>	<span style="color:#66d9ef">for</span> <span style="color:#a6e22e">_</span>, <span style="color:#a6e22e">tc</span> <span style="color:#f92672">:=</span> <span style="color:#66d9ef">range</span> <span style="color:#a6e22e">tests</span> {
		<span style="color:#a6e22e">got</span> <span style="color:#f92672">:=</span> <span style="color:#a6e22e">Split</span>(<span style="color:#a6e22e">tc</span>.<span style="color:#a6e22e">input</span>, <span style="color:#a6e22e">tc</span>.<span style="color:#a6e22e">sep</span>)
		<span style="color:#66d9ef">if</span> !<span style="color:#a6e22e">reflect</span>.<span style="color:#a6e22e">DeepEqual</span>(<span style="color:#a6e22e">got</span>, <span style="color:#a6e22e">tc</span>.<span style="color:#a6e22e">want</span>) {
			<span style="color:#a6e22e">t</span>.<span style="color:#a6e22e">Errorf</span>(<span style="color:#e6db74">&#34;excepted:%v, got:%v&#34;</span>, <span style="color:#a6e22e">tc</span>.<span style="color:#a6e22e">want</span>, <span style="color:#a6e22e">got</span>)
		}
	}
}
</code></pre></div><p>æˆ‘ä»¬é€šè¿‡ä¸Šé¢çš„ä»£ç æŠŠå¤šä¸ªæµ‹è¯•ç”¨ä¾‹åˆåˆ°ä¸€èµ·ï¼Œå†æ¬¡æ‰§è¡Œ<code>go test</code>å‘½ä»¤ã€‚</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-bash" data-lang="bash">split $ go test -v
<span style="color:#f92672">===</span> RUN   TestSplit
--- FAIL: TestSplit <span style="color:#f92672">(</span>0.00s<span style="color:#f92672">)</span>
    split_test.go:42: excepted:<span style="color:#f92672">[</span>æ²³æœ‰ åˆæœ‰æ²³<span style="color:#f92672">]</span>, got:<span style="color:#f92672">[</span> æ²³æœ‰ åˆæœ‰æ²³<span style="color:#f92672">]</span>
FAIL
exit status <span style="color:#ae81ff">1</span>
FAIL    github.com/Q1mi/studygo/code_demo/test_demo/split       0.006s
</code></pre></div><p>æˆ‘ä»¬çš„æµ‹è¯•å‡ºç°äº†é—®é¢˜ï¼Œä»”ç»†çœ‹æ‰“å°çš„æµ‹è¯•å¤±è´¥æç¤ºä¿¡æ¯ï¼š<code>excepted:[æ²³æœ‰ åˆæœ‰æ²³], got:[ æ²³æœ‰ åˆæœ‰æ²³]</code>ï¼Œä½ ä¼šå‘ç°<code>[ æ²³æœ‰ åˆæœ‰æ²³]</code>ä¸­æœ‰ä¸ªä¸æ˜æ˜¾çš„ç©ºä¸²ï¼Œè¿™ç§æƒ…å†µä¸‹ååˆ†æ¨èä½¿ç”¨<code>%#v</code>çš„æ ¼å¼åŒ–æ–¹å¼ã€‚</p>
<h2 id="å­æµ‹è¯•">å­æµ‹è¯•</h2>
<p>çœ‹èµ·æ¥éƒ½æŒºä¸é”™çš„ï¼Œä½†æ˜¯å¦‚æœæµ‹è¯•ç”¨ä¾‹æ¯”è¾ƒå¤šçš„æ—¶å€™ï¼Œæˆ‘ä»¬æ˜¯æ²¡åŠæ³•ä¸€çœ¼çœ‹å‡ºæ¥å…·ä½“æ˜¯å“ªä¸ªæµ‹è¯•ç”¨ä¾‹å¤±è´¥äº†ã€‚æˆ‘ä»¬å¯èƒ½ä¼šæƒ³åˆ°ä¸‹é¢çš„è§£å†³åŠæ³•ï¼š</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-go" data-lang="go"><span style="color:#66d9ef">func</span> <span style="color:#a6e22e">TestSplit</span>(<span style="color:#a6e22e">t</span> <span style="color:#f92672">*</span><span style="color:#a6e22e">testing</span>.<span style="color:#a6e22e">T</span>) {
	<span style="color:#66d9ef">type</span> <span style="color:#a6e22e">test</span> <span style="color:#66d9ef">struct</span> { <span style="color:#75715e">// å®šä¹‰testç»“æ„ä½“
</span><span style="color:#75715e"></span>		<span style="color:#a6e22e">input</span> <span style="color:#66d9ef">string</span>
		<span style="color:#a6e22e">sep</span>   <span style="color:#66d9ef">string</span>
		<span style="color:#a6e22e">want</span>  []<span style="color:#66d9ef">string</span>
	}
	<span style="color:#a6e22e">tests</span> <span style="color:#f92672">:=</span> <span style="color:#66d9ef">map</span>[<span style="color:#66d9ef">string</span>]<span style="color:#a6e22e">test</span>{ <span style="color:#75715e">// æµ‹è¯•ç”¨ä¾‹ä½¿ç”¨mapå­˜å‚¨
</span><span style="color:#75715e"></span>		<span style="color:#e6db74">&#34;simple&#34;</span>:      {<span style="color:#a6e22e">input</span>: <span style="color:#e6db74">&#34;ağŸ…±ï¸c&#34;</span>, <span style="color:#a6e22e">sep</span>: <span style="color:#e6db74">&#34;:&#34;</span>, <span style="color:#a6e22e">want</span>: []<span style="color:#66d9ef">string</span>{<span style="color:#e6db74">&#34;a&#34;</span>, <span style="color:#e6db74">&#34;b&#34;</span>, <span style="color:#e6db74">&#34;c&#34;</span>}},
		<span style="color:#e6db74">&#34;wrong sep&#34;</span>:   {<span style="color:#a6e22e">input</span>: <span style="color:#e6db74">&#34;ağŸ…±ï¸c&#34;</span>, <span style="color:#a6e22e">sep</span>: <span style="color:#e6db74">&#34;,&#34;</span>, <span style="color:#a6e22e">want</span>: []<span style="color:#66d9ef">string</span>{<span style="color:#e6db74">&#34;ağŸ…±ï¸c&#34;</span>}},
		<span style="color:#e6db74">&#34;more sep&#34;</span>:    {<span style="color:#a6e22e">input</span>: <span style="color:#e6db74">&#34;abcd&#34;</span>, <span style="color:#a6e22e">sep</span>: <span style="color:#e6db74">&#34;bc&#34;</span>, <span style="color:#a6e22e">want</span>: []<span style="color:#66d9ef">string</span>{<span style="color:#e6db74">&#34;a&#34;</span>, <span style="color:#e6db74">&#34;d&#34;</span>}},
		<span style="color:#e6db74">&#34;leading sep&#34;</span>: {<span style="color:#a6e22e">input</span>: <span style="color:#e6db74">&#34;æ²™æ²³æœ‰æ²™åˆæœ‰æ²³&#34;</span>, <span style="color:#a6e22e">sep</span>: <span style="color:#e6db74">&#34;æ²™&#34;</span>, <span style="color:#a6e22e">want</span>: []<span style="color:#66d9ef">string</span>{<span style="color:#e6db74">&#34;æ²³æœ‰&#34;</span>, <span style="color:#e6db74">&#34;åˆæœ‰æ²³&#34;</span>}},
	}
	<span style="color:#66d9ef">for</span> <span style="color:#a6e22e">name</span>, <span style="color:#a6e22e">tc</span> <span style="color:#f92672">:=</span> <span style="color:#66d9ef">range</span> <span style="color:#a6e22e">tests</span> {
		<span style="color:#a6e22e">got</span> <span style="color:#f92672">:=</span> <span style="color:#a6e22e">Split</span>(<span style="color:#a6e22e">tc</span>.<span style="color:#a6e22e">input</span>, <span style="color:#a6e22e">tc</span>.<span style="color:#a6e22e">sep</span>)
		<span style="color:#66d9ef">if</span> !<span style="color:#a6e22e">reflect</span>.<span style="color:#a6e22e">DeepEqual</span>(<span style="color:#a6e22e">got</span>, <span style="color:#a6e22e">tc</span>.<span style="color:#a6e22e">want</span>) {
			<span style="color:#a6e22e">t</span>.<span style="color:#a6e22e">Errorf</span>(<span style="color:#e6db74">&#34;name:%s excepted:%#v, got:%#v&#34;</span>, <span style="color:#a6e22e">name</span>, <span style="color:#a6e22e">tc</span>.<span style="color:#a6e22e">want</span>, <span style="color:#a6e22e">got</span>) <span style="color:#75715e">// å°†æµ‹è¯•ç”¨ä¾‹çš„nameæ ¼å¼åŒ–è¾“å‡º
</span><span style="color:#75715e"></span>		}
	}
}
</code></pre></div><p>ä¸Šé¢çš„åšæ³•æ˜¯èƒ½å¤Ÿè§£å†³é—®é¢˜çš„ã€‚åŒæ—¶Go1.7+ä¸­æ–°å¢äº†å­æµ‹è¯•ï¼Œæˆ‘ä»¬å¯ä»¥æŒ‰ç…§å¦‚ä¸‹æ–¹å¼ä½¿ç”¨<code>t.Run</code>æ‰§è¡Œå­æµ‹è¯•ï¼š</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-go" data-lang="go"><span style="color:#66d9ef">func</span> <span style="color:#a6e22e">TestSplit</span>(<span style="color:#a6e22e">t</span> <span style="color:#f92672">*</span><span style="color:#a6e22e">testing</span>.<span style="color:#a6e22e">T</span>) {
	<span style="color:#66d9ef">type</span> <span style="color:#a6e22e">test</span> <span style="color:#66d9ef">struct</span> { <span style="color:#75715e">// å®šä¹‰testç»“æ„ä½“
</span><span style="color:#75715e"></span>		<span style="color:#a6e22e">input</span> <span style="color:#66d9ef">string</span>
		<span style="color:#a6e22e">sep</span>   <span style="color:#66d9ef">string</span>
		<span style="color:#a6e22e">want</span>  []<span style="color:#66d9ef">string</span>
	}
	<span style="color:#a6e22e">tests</span> <span style="color:#f92672">:=</span> <span style="color:#66d9ef">map</span>[<span style="color:#66d9ef">string</span>]<span style="color:#a6e22e">test</span>{ <span style="color:#75715e">// æµ‹è¯•ç”¨ä¾‹ä½¿ç”¨mapå­˜å‚¨
</span><span style="color:#75715e"></span>		<span style="color:#e6db74">&#34;simple&#34;</span>:      {<span style="color:#a6e22e">input</span>: <span style="color:#e6db74">&#34;ağŸ…±ï¸c&#34;</span>, <span style="color:#a6e22e">sep</span>: <span style="color:#e6db74">&#34;:&#34;</span>, <span style="color:#a6e22e">want</span>: []<span style="color:#66d9ef">string</span>{<span style="color:#e6db74">&#34;a&#34;</span>, <span style="color:#e6db74">&#34;b&#34;</span>, <span style="color:#e6db74">&#34;c&#34;</span>}},
		<span style="color:#e6db74">&#34;wrong sep&#34;</span>:   {<span style="color:#a6e22e">input</span>: <span style="color:#e6db74">&#34;ağŸ…±ï¸c&#34;</span>, <span style="color:#a6e22e">sep</span>: <span style="color:#e6db74">&#34;,&#34;</span>, <span style="color:#a6e22e">want</span>: []<span style="color:#66d9ef">string</span>{<span style="color:#e6db74">&#34;ağŸ…±ï¸c&#34;</span>}},
		<span style="color:#e6db74">&#34;more sep&#34;</span>:    {<span style="color:#a6e22e">input</span>: <span style="color:#e6db74">&#34;abcd&#34;</span>, <span style="color:#a6e22e">sep</span>: <span style="color:#e6db74">&#34;bc&#34;</span>, <span style="color:#a6e22e">want</span>: []<span style="color:#66d9ef">string</span>{<span style="color:#e6db74">&#34;a&#34;</span>, <span style="color:#e6db74">&#34;d&#34;</span>}},
		<span style="color:#e6db74">&#34;leading sep&#34;</span>: {<span style="color:#a6e22e">input</span>: <span style="color:#e6db74">&#34;æ²™æ²³æœ‰æ²™åˆæœ‰æ²³&#34;</span>, <span style="color:#a6e22e">sep</span>: <span style="color:#e6db74">&#34;æ²™&#34;</span>, <span style="color:#a6e22e">want</span>: []<span style="color:#66d9ef">string</span>{<span style="color:#e6db74">&#34;æ²³æœ‰&#34;</span>, <span style="color:#e6db74">&#34;åˆæœ‰æ²³&#34;</span>}},
	}
	<span style="color:#66d9ef">for</span> <span style="color:#a6e22e">name</span>, <span style="color:#a6e22e">tc</span> <span style="color:#f92672">:=</span> <span style="color:#66d9ef">range</span> <span style="color:#a6e22e">tests</span> {
		<span style="color:#a6e22e">t</span>.<span style="color:#a6e22e">Run</span>(<span style="color:#a6e22e">name</span>, <span style="color:#66d9ef">func</span>(<span style="color:#a6e22e">t</span> <span style="color:#f92672">*</span><span style="color:#a6e22e">testing</span>.<span style="color:#a6e22e">T</span>) { <span style="color:#75715e">// ä½¿ç”¨t.Run()æ‰§è¡Œå­æµ‹è¯•
</span><span style="color:#75715e"></span>			<span style="color:#a6e22e">got</span> <span style="color:#f92672">:=</span> <span style="color:#a6e22e">Split</span>(<span style="color:#a6e22e">tc</span>.<span style="color:#a6e22e">input</span>, <span style="color:#a6e22e">tc</span>.<span style="color:#a6e22e">sep</span>)
			<span style="color:#66d9ef">if</span> !<span style="color:#a6e22e">reflect</span>.<span style="color:#a6e22e">DeepEqual</span>(<span style="color:#a6e22e">got</span>, <span style="color:#a6e22e">tc</span>.<span style="color:#a6e22e">want</span>) {
				<span style="color:#a6e22e">t</span>.<span style="color:#a6e22e">Errorf</span>(<span style="color:#e6db74">&#34;excepted:%#v, got:%#v&#34;</span>, <span style="color:#a6e22e">tc</span>.<span style="color:#a6e22e">want</span>, <span style="color:#a6e22e">got</span>)
			}
		})
	}
}
</code></pre></div><p>æ­¤æ—¶æˆ‘ä»¬å†æ‰§è¡Œ<code>go test</code>å‘½ä»¤å°±èƒ½å¤Ÿçœ‹åˆ°æ›´æ¸…æ™°çš„è¾“å‡ºå†…å®¹äº†ï¼š</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-bash" data-lang="bash">split $ go test -v
<span style="color:#f92672">===</span> RUN   TestSplit
<span style="color:#f92672">===</span> RUN   TestSplit/leading_sep
<span style="color:#f92672">===</span> RUN   TestSplit/simple
<span style="color:#f92672">===</span> RUN   TestSplit/wrong_sep
<span style="color:#f92672">===</span> RUN   TestSplit/more_sep
--- FAIL: TestSplit <span style="color:#f92672">(</span>0.00s<span style="color:#f92672">)</span>
    --- FAIL: TestSplit/leading_sep <span style="color:#f92672">(</span>0.00s<span style="color:#f92672">)</span>
        split_test.go:83: excepted:<span style="color:#f92672">[]</span>string<span style="color:#f92672">{</span><span style="color:#e6db74">&#34;æ²³æœ‰&#34;</span>, <span style="color:#e6db74">&#34;åˆæœ‰æ²³&#34;</span><span style="color:#f92672">}</span>, got:<span style="color:#f92672">[]</span>string<span style="color:#f92672">{</span><span style="color:#e6db74">&#34;&#34;</span>, <span style="color:#e6db74">&#34;æ²³æœ‰&#34;</span>, <span style="color:#e6db74">&#34;åˆæœ‰æ²³&#34;</span><span style="color:#f92672">}</span>
    --- PASS: TestSplit/simple <span style="color:#f92672">(</span>0.00s<span style="color:#f92672">)</span>
    --- PASS: TestSplit/wrong_sep <span style="color:#f92672">(</span>0.00s<span style="color:#f92672">)</span>
    --- PASS: TestSplit/more_sep <span style="color:#f92672">(</span>0.00s<span style="color:#f92672">)</span>
FAIL
exit status <span style="color:#ae81ff">1</span>
FAIL    github.com/Q1mi/studygo/code_demo/test_demo/split       0.006s
</code></pre></div><p>è¿™ä¸ªæ—¶å€™æˆ‘ä»¬è¦æŠŠæµ‹è¯•ç”¨ä¾‹ä¸­çš„é”™è¯¯ä¿®æ”¹å›æ¥ï¼š</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-go" data-lang="go"><span style="color:#66d9ef">func</span> <span style="color:#a6e22e">TestSplit</span>(<span style="color:#a6e22e">t</span> <span style="color:#f92672">*</span><span style="color:#a6e22e">testing</span>.<span style="color:#a6e22e">T</span>) {
	<span style="color:#f92672">...</span>
	<span style="color:#a6e22e">tests</span> <span style="color:#f92672">:=</span> <span style="color:#66d9ef">map</span>[<span style="color:#66d9ef">string</span>]<span style="color:#a6e22e">test</span>{ <span style="color:#75715e">// æµ‹è¯•ç”¨ä¾‹ä½¿ç”¨mapå­˜å‚¨
</span><span style="color:#75715e"></span>		<span style="color:#e6db74">&#34;simple&#34;</span>:      {<span style="color:#a6e22e">input</span>: <span style="color:#e6db74">&#34;ağŸ…±ï¸c&#34;</span>, <span style="color:#a6e22e">sep</span>: <span style="color:#e6db74">&#34;:&#34;</span>, <span style="color:#a6e22e">want</span>: []<span style="color:#66d9ef">string</span>{<span style="color:#e6db74">&#34;a&#34;</span>, <span style="color:#e6db74">&#34;b&#34;</span>, <span style="color:#e6db74">&#34;c&#34;</span>}},
		<span style="color:#e6db74">&#34;wrong sep&#34;</span>:   {<span style="color:#a6e22e">input</span>: <span style="color:#e6db74">&#34;ağŸ…±ï¸c&#34;</span>, <span style="color:#a6e22e">sep</span>: <span style="color:#e6db74">&#34;,&#34;</span>, <span style="color:#a6e22e">want</span>: []<span style="color:#66d9ef">string</span>{<span style="color:#e6db74">&#34;ağŸ…±ï¸c&#34;</span>}},
		<span style="color:#e6db74">&#34;more sep&#34;</span>:    {<span style="color:#a6e22e">input</span>: <span style="color:#e6db74">&#34;abcd&#34;</span>, <span style="color:#a6e22e">sep</span>: <span style="color:#e6db74">&#34;bc&#34;</span>, <span style="color:#a6e22e">want</span>: []<span style="color:#66d9ef">string</span>{<span style="color:#e6db74">&#34;a&#34;</span>, <span style="color:#e6db74">&#34;d&#34;</span>}},
		<span style="color:#e6db74">&#34;leading sep&#34;</span>: {<span style="color:#a6e22e">input</span>: <span style="color:#e6db74">&#34;æ²™æ²³æœ‰æ²™åˆæœ‰æ²³&#34;</span>, <span style="color:#a6e22e">sep</span>: <span style="color:#e6db74">&#34;æ²™&#34;</span>, <span style="color:#a6e22e">want</span>: []<span style="color:#66d9ef">string</span>{<span style="color:#e6db74">&#34;&#34;</span>, <span style="color:#e6db74">&#34;æ²³æœ‰&#34;</span>, <span style="color:#e6db74">&#34;åˆæœ‰æ²³&#34;</span>}},
	}
	<span style="color:#f92672">...</span>
}
</code></pre></div><p>æˆ‘ä»¬éƒ½çŸ¥é“å¯ä»¥é€šè¿‡<code>-run=RegExp</code>æ¥æŒ‡å®šè¿è¡Œçš„æµ‹è¯•ç”¨ä¾‹ï¼Œè¿˜å¯ä»¥é€šè¿‡<code>/</code>æ¥æŒ‡å®šè¦è¿è¡Œçš„å­æµ‹è¯•ç”¨ä¾‹ï¼Œä¾‹å¦‚ï¼š<code>go test -v -run=Split/simple</code>åªä¼šè¿è¡Œ<code>simple</code>å¯¹åº”çš„å­æµ‹è¯•ç”¨ä¾‹ã€‚</p>
<h1 id="åŸºå‡†æµ‹è¯•">åŸºå‡†æµ‹è¯•</h1>
<p>åŸºå‡†æµ‹è¯•å°±æ˜¯åœ¨ä¸€å®šçš„å·¥ä½œè´Ÿè½½ä¹‹ä¸‹æ£€æµ‹ç¨‹åºæ€§èƒ½çš„ä¸€ç§æ–¹æ³•ã€‚åŸºå‡†æµ‹è¯•çš„åŸºæœ¬æ ¼å¼å¦‚ä¸‹ï¼š</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-go" data-lang="go"><span style="color:#66d9ef">func</span> <span style="color:#a6e22e">BenchmarkName</span>(<span style="color:#a6e22e">b</span> <span style="color:#f92672">*</span><span style="color:#a6e22e">testing</span>.<span style="color:#a6e22e">B</span>){
    <span style="color:#75715e">// ...
</span><span style="color:#75715e"></span>}
</code></pre></div><p>åŸºå‡†æµ‹è¯•ä»¥<code>Benchmark</code>ä¸ºå‰ç¼€ï¼Œéœ€è¦ä¸€ä¸ª<code>*testing.B</code>ç±»å‹çš„å‚æ•°bï¼ŒåŸºå‡†æµ‹è¯•å¿…é¡»è¦æ‰§è¡Œ<code>b.N</code>æ¬¡ï¼Œè¿™æ ·çš„æµ‹è¯•æ‰æœ‰å¯¹ç…§æ€§ï¼Œ<code>b.N</code>çš„å€¼æ˜¯ç³»ç»Ÿæ ¹æ®å®é™…æƒ…å†µå»è°ƒæ•´çš„ï¼Œä»è€Œä¿è¯æµ‹è¯•çš„ç¨³å®šæ€§ã€‚ <code>testing.B</code>æ‹¥æœ‰çš„æ–¹æ³•å¦‚ä¸‹ï¼š</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-go" data-lang="go"><span style="color:#66d9ef">func</span> (<span style="color:#a6e22e">c</span> <span style="color:#f92672">*</span><span style="color:#a6e22e">B</span>) <span style="color:#a6e22e">Error</span>(<span style="color:#a6e22e">args</span> <span style="color:#f92672">...</span><span style="color:#66d9ef">interface</span>{})
<span style="color:#66d9ef">func</span> (<span style="color:#a6e22e">c</span> <span style="color:#f92672">*</span><span style="color:#a6e22e">B</span>) <span style="color:#a6e22e">Errorf</span>(<span style="color:#a6e22e">format</span> <span style="color:#66d9ef">string</span>, <span style="color:#a6e22e">args</span> <span style="color:#f92672">...</span><span style="color:#66d9ef">interface</span>{})
<span style="color:#66d9ef">func</span> (<span style="color:#a6e22e">c</span> <span style="color:#f92672">*</span><span style="color:#a6e22e">B</span>) <span style="color:#a6e22e">Fail</span>()
<span style="color:#66d9ef">func</span> (<span style="color:#a6e22e">c</span> <span style="color:#f92672">*</span><span style="color:#a6e22e">B</span>) <span style="color:#a6e22e">FailNow</span>()
<span style="color:#66d9ef">func</span> (<span style="color:#a6e22e">c</span> <span style="color:#f92672">*</span><span style="color:#a6e22e">B</span>) <span style="color:#a6e22e">Failed</span>() <span style="color:#66d9ef">bool</span>
<span style="color:#66d9ef">func</span> (<span style="color:#a6e22e">c</span> <span style="color:#f92672">*</span><span style="color:#a6e22e">B</span>) <span style="color:#a6e22e">Fatal</span>(<span style="color:#a6e22e">args</span> <span style="color:#f92672">...</span><span style="color:#66d9ef">interface</span>{})
<span style="color:#66d9ef">func</span> (<span style="color:#a6e22e">c</span> <span style="color:#f92672">*</span><span style="color:#a6e22e">B</span>) <span style="color:#a6e22e">Fatalf</span>(<span style="color:#a6e22e">format</span> <span style="color:#66d9ef">string</span>, <span style="color:#a6e22e">args</span> <span style="color:#f92672">...</span><span style="color:#66d9ef">interface</span>{})
<span style="color:#66d9ef">func</span> (<span style="color:#a6e22e">c</span> <span style="color:#f92672">*</span><span style="color:#a6e22e">B</span>) <span style="color:#a6e22e">Log</span>(<span style="color:#a6e22e">args</span> <span style="color:#f92672">...</span><span style="color:#66d9ef">interface</span>{})
<span style="color:#66d9ef">func</span> (<span style="color:#a6e22e">c</span> <span style="color:#f92672">*</span><span style="color:#a6e22e">B</span>) <span style="color:#a6e22e">Logf</span>(<span style="color:#a6e22e">format</span> <span style="color:#66d9ef">string</span>, <span style="color:#a6e22e">args</span> <span style="color:#f92672">...</span><span style="color:#66d9ef">interface</span>{})
<span style="color:#66d9ef">func</span> (<span style="color:#a6e22e">c</span> <span style="color:#f92672">*</span><span style="color:#a6e22e">B</span>) <span style="color:#a6e22e">Name</span>() <span style="color:#66d9ef">string</span>
<span style="color:#66d9ef">func</span> (<span style="color:#a6e22e">b</span> <span style="color:#f92672">*</span><span style="color:#a6e22e">B</span>) <span style="color:#a6e22e">ReportAllocs</span>()
<span style="color:#66d9ef">func</span> (<span style="color:#a6e22e">b</span> <span style="color:#f92672">*</span><span style="color:#a6e22e">B</span>) <span style="color:#a6e22e">ResetTimer</span>()
<span style="color:#66d9ef">func</span> (<span style="color:#a6e22e">b</span> <span style="color:#f92672">*</span><span style="color:#a6e22e">B</span>) <span style="color:#a6e22e">Run</span>(<span style="color:#a6e22e">name</span> <span style="color:#66d9ef">string</span>, <span style="color:#a6e22e">f</span> <span style="color:#66d9ef">func</span>(<span style="color:#a6e22e">b</span> <span style="color:#f92672">*</span><span style="color:#a6e22e">B</span>)) <span style="color:#66d9ef">bool</span>
<span style="color:#66d9ef">func</span> (<span style="color:#a6e22e">b</span> <span style="color:#f92672">*</span><span style="color:#a6e22e">B</span>) <span style="color:#a6e22e">RunParallel</span>(<span style="color:#a6e22e">body</span> <span style="color:#66d9ef">func</span>(<span style="color:#f92672">*</span><span style="color:#a6e22e">PB</span>))
<span style="color:#66d9ef">func</span> (<span style="color:#a6e22e">b</span> <span style="color:#f92672">*</span><span style="color:#a6e22e">B</span>) <span style="color:#a6e22e">SetBytes</span>(<span style="color:#a6e22e">n</span> <span style="color:#66d9ef">int64</span>)
<span style="color:#66d9ef">func</span> (<span style="color:#a6e22e">b</span> <span style="color:#f92672">*</span><span style="color:#a6e22e">B</span>) <span style="color:#a6e22e">SetParallelism</span>(<span style="color:#a6e22e">p</span> <span style="color:#66d9ef">int</span>)
<span style="color:#66d9ef">func</span> (<span style="color:#a6e22e">c</span> <span style="color:#f92672">*</span><span style="color:#a6e22e">B</span>) <span style="color:#a6e22e">Skip</span>(<span style="color:#a6e22e">args</span> <span style="color:#f92672">...</span><span style="color:#66d9ef">interface</span>{})
<span style="color:#66d9ef">func</span> (<span style="color:#a6e22e">c</span> <span style="color:#f92672">*</span><span style="color:#a6e22e">B</span>) <span style="color:#a6e22e">SkipNow</span>()
<span style="color:#66d9ef">func</span> (<span style="color:#a6e22e">c</span> <span style="color:#f92672">*</span><span style="color:#a6e22e">B</span>) <span style="color:#a6e22e">Skipf</span>(<span style="color:#a6e22e">format</span> <span style="color:#66d9ef">string</span>, <span style="color:#a6e22e">args</span> <span style="color:#f92672">...</span><span style="color:#66d9ef">interface</span>{})
<span style="color:#66d9ef">func</span> (<span style="color:#a6e22e">c</span> <span style="color:#f92672">*</span><span style="color:#a6e22e">B</span>) <span style="color:#a6e22e">Skipped</span>() <span style="color:#66d9ef">bool</span>
<span style="color:#66d9ef">func</span> (<span style="color:#a6e22e">b</span> <span style="color:#f92672">*</span><span style="color:#a6e22e">B</span>) <span style="color:#a6e22e">StartTimer</span>()
<span style="color:#66d9ef">func</span> (<span style="color:#a6e22e">b</span> <span style="color:#f92672">*</span><span style="color:#a6e22e">B</span>) <span style="color:#a6e22e">StopTimer</span>()
</code></pre></div><h2 id="åŸºå‡†æµ‹è¯•ç¤ºä¾‹">åŸºå‡†æµ‹è¯•ç¤ºä¾‹</h2>
<p>æˆ‘ä»¬ä¸ºsplitåŒ…ä¸­çš„<code>Split</code>å‡½æ•°ç¼–å†™åŸºå‡†æµ‹è¯•å¦‚ä¸‹ï¼š</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-go" data-lang="go"><span style="color:#66d9ef">func</span> <span style="color:#a6e22e">BenchmarkSplit</span>(<span style="color:#a6e22e">b</span> <span style="color:#f92672">*</span><span style="color:#a6e22e">testing</span>.<span style="color:#a6e22e">B</span>) {
	<span style="color:#66d9ef">for</span> <span style="color:#a6e22e">i</span> <span style="color:#f92672">:=</span> <span style="color:#ae81ff">0</span>; <span style="color:#a6e22e">i</span> &lt; <span style="color:#a6e22e">b</span>.<span style="color:#a6e22e">N</span>; <span style="color:#a6e22e">i</span><span style="color:#f92672">++</span> {
		<span style="color:#a6e22e">Split</span>(<span style="color:#e6db74">&#34;æ²™æ²³æœ‰æ²™åˆæœ‰æ²³&#34;</span>, <span style="color:#e6db74">&#34;æ²™&#34;</span>)
	}
}
</code></pre></div><p>åŸºå‡†æµ‹è¯•å¹¶ä¸ä¼šé»˜è®¤æ‰§è¡Œï¼Œéœ€è¦å¢åŠ <code>-bench</code>å‚æ•°ï¼Œæ‰€ä»¥æˆ‘ä»¬é€šè¿‡æ‰§è¡Œ<code>go test -bench=Split</code>å‘½ä»¤æ‰§è¡ŒåŸºå‡†æµ‹è¯•ï¼Œè¾“å‡ºç»“æœå¦‚ä¸‹ï¼š</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-bash" data-lang="bash">split $ go test -bench<span style="color:#f92672">=</span>Split
goos: darwin
goarch: amd64
pkg: github.com/Q1mi/studygo/code_demo/test_demo/split
BenchmarkSplit-8        <span style="color:#ae81ff">10000000</span>               <span style="color:#ae81ff">203</span> ns/op
PASS
ok      github.com/Q1mi/studygo/code_demo/test_demo/split       2.255s
</code></pre></div><p>å…¶ä¸­<code>BenchmarkSplit-8</code>è¡¨ç¤ºå¯¹Splitå‡½æ•°è¿›è¡ŒåŸºå‡†æµ‹è¯•ï¼Œæ•°å­—<code>8</code>è¡¨ç¤º<code>GOMAXPROCS</code>çš„å€¼ï¼Œè¿™ä¸ªå¯¹äºå¹¶å‘åŸºå‡†æµ‹è¯•å¾ˆé‡è¦ã€‚<code>10000000</code>å’Œ<code>203ns/op</code>è¡¨ç¤ºæ¯æ¬¡è°ƒç”¨<code>Split</code>å‡½æ•°è€—æ—¶<code>203ns</code>ï¼Œè¿™ä¸ªç»“æœæ˜¯<code>10000000</code>æ¬¡è°ƒç”¨çš„å¹³å‡å€¼ã€‚</p>
<p>æˆ‘ä»¬è¿˜å¯ä»¥ä¸ºåŸºå‡†æµ‹è¯•æ·»åŠ <code>-benchmem</code>å‚æ•°ï¼Œæ¥è·å¾—å†…å­˜åˆ†é…çš„ç»Ÿè®¡æ•°æ®ã€‚</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-bash" data-lang="bash">split $ go test -bench<span style="color:#f92672">=</span>Split -benchmem
goos: darwin
goarch: amd64
pkg: github.com/Q1mi/studygo/code_demo/test_demo/split
BenchmarkSplit-8        <span style="color:#ae81ff">10000000</span>               <span style="color:#ae81ff">215</span> ns/op             <span style="color:#ae81ff">112</span> B/op          <span style="color:#ae81ff">3</span> allocs/op
PASS
ok      github.com/Q1mi/studygo/code_demo/test_demo/split       2.394s
</code></pre></div><p>å…¶ä¸­ï¼Œ<code>112 B/op</code>è¡¨ç¤ºæ¯æ¬¡æ“ä½œå†…å­˜åˆ†é…äº†112å­—èŠ‚ï¼Œ<code>3 allocs/op</code>åˆ™è¡¨ç¤ºæ¯æ¬¡æ“ä½œè¿›è¡Œäº†3æ¬¡å†…å­˜åˆ†é…ã€‚ æˆ‘ä»¬å°†æˆ‘ä»¬çš„<code>Split</code>å‡½æ•°ä¼˜åŒ–å¦‚ä¸‹ï¼š</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-go" data-lang="go"><span style="color:#66d9ef">func</span> <span style="color:#a6e22e">Split</span>(<span style="color:#a6e22e">s</span>, <span style="color:#a6e22e">sep</span> <span style="color:#66d9ef">string</span>) (<span style="color:#a6e22e">result</span> []<span style="color:#66d9ef">string</span>) {
	<span style="color:#a6e22e">result</span> = make([]<span style="color:#66d9ef">string</span>, <span style="color:#ae81ff">0</span>, <span style="color:#a6e22e">strings</span>.<span style="color:#a6e22e">Count</span>(<span style="color:#a6e22e">s</span>, <span style="color:#a6e22e">sep</span>)<span style="color:#f92672">+</span><span style="color:#ae81ff">1</span>)
	<span style="color:#a6e22e">i</span> <span style="color:#f92672">:=</span> <span style="color:#a6e22e">strings</span>.<span style="color:#a6e22e">Index</span>(<span style="color:#a6e22e">s</span>, <span style="color:#a6e22e">sep</span>)
	<span style="color:#66d9ef">for</span> <span style="color:#a6e22e">i</span> &gt; <span style="color:#f92672">-</span><span style="color:#ae81ff">1</span> {
		<span style="color:#a6e22e">result</span> = append(<span style="color:#a6e22e">result</span>, <span style="color:#a6e22e">s</span>[:<span style="color:#a6e22e">i</span>])
		<span style="color:#a6e22e">s</span> = <span style="color:#a6e22e">s</span>[<span style="color:#a6e22e">i</span><span style="color:#f92672">+</span>len(<span style="color:#a6e22e">sep</span>):] <span style="color:#75715e">// è¿™é‡Œä½¿ç”¨len(sep)è·å–sepçš„é•¿åº¦
</span><span style="color:#75715e"></span>		<span style="color:#a6e22e">i</span> = <span style="color:#a6e22e">strings</span>.<span style="color:#a6e22e">Index</span>(<span style="color:#a6e22e">s</span>, <span style="color:#a6e22e">sep</span>)
	}
	<span style="color:#a6e22e">result</span> = append(<span style="color:#a6e22e">result</span>, <span style="color:#a6e22e">s</span>)
	<span style="color:#66d9ef">return</span>
}
</code></pre></div><p>è¿™ä¸€æ¬¡æˆ‘ä»¬æå‰ä½¿ç”¨makeå‡½æ•°å°†resultåˆå§‹åŒ–ä¸ºä¸€ä¸ªå®¹é‡è¶³å¤Ÿå¤§çš„åˆ‡ç‰‡ï¼Œè€Œä¸å†åƒä¹‹å‰ä¸€æ ·é€šè¿‡è°ƒç”¨appendå‡½æ•°æ¥è¿½åŠ ã€‚æˆ‘ä»¬æ¥çœ‹ä¸€ä¸‹è¿™ä¸ªæ”¹è¿›ä¼šå¸¦æ¥å¤šå¤§çš„æ€§èƒ½æå‡ï¼š</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-bash" data-lang="bash">split $ go test -bench<span style="color:#f92672">=</span>Split -benchmem
goos: darwin
goarch: amd64
pkg: github.com/Q1mi/studygo/code_demo/test_demo/split
BenchmarkSplit-8        <span style="color:#ae81ff">10000000</span>               <span style="color:#ae81ff">127</span> ns/op              <span style="color:#ae81ff">48</span> B/op          <span style="color:#ae81ff">1</span> allocs/op
PASS
ok      github.com/Q1mi/studygo/code_demo/test_demo/split       1.423s
</code></pre></div><p>è¿™ä¸ªä½¿ç”¨makeå‡½æ•°æå‰åˆ†é…å†…å­˜çš„æ”¹åŠ¨ï¼Œå‡å°‘äº†2/3çš„å†…å­˜åˆ†é…æ¬¡æ•°ï¼Œå¹¶ä¸”å‡å°‘äº†ä¸€åŠçš„å†…å­˜åˆ†é…ã€‚</p>
<h2 id="å¹¶è¡Œæµ‹è¯•">å¹¶è¡Œæµ‹è¯•</h2>
<p><code>func (b *B) RunParallel(body func(*PB))</code>ä¼šä»¥å¹¶è¡Œçš„æ–¹å¼æ‰§è¡Œç»™å®šçš„åŸºå‡†æµ‹è¯•ã€‚</p>
<p><code>RunParallel</code>ä¼šåˆ›å»ºå‡ºå¤šä¸ª<code>goroutine</code>ï¼Œå¹¶å°†<code>b.N</code>åˆ†é…ç»™è¿™äº›<code>goroutine</code>æ‰§è¡Œï¼Œ å…¶ä¸­<code>goroutine</code>æ•°é‡çš„é»˜è®¤å€¼ä¸º<code>GOMAXPROCS</code>ã€‚ç”¨æˆ·å¦‚æœæƒ³è¦å¢åŠ éCPUå—é™ï¼ˆnon-CPU-boundï¼‰åŸºå‡†æµ‹è¯•çš„å¹¶è¡Œæ€§ï¼Œ é‚£ä¹ˆå¯ä»¥åœ¨<code>RunParallel</code>ä¹‹å‰è°ƒç”¨<code>SetParallelism</code> ã€‚<code>RunParallel</code>é€šå¸¸ä¼šä¸<code>-cpu</code>æ ‡å¿—ä¸€åŒä½¿ç”¨ã€‚</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-go" data-lang="go"><span style="color:#66d9ef">func</span> <span style="color:#a6e22e">BenchmarkSplitParallel</span>(<span style="color:#a6e22e">b</span> <span style="color:#f92672">*</span><span style="color:#a6e22e">testing</span>.<span style="color:#a6e22e">B</span>) {
	<span style="color:#75715e">// b.SetParallelism(1) // è®¾ç½®ä½¿ç”¨çš„CPUæ•°
</span><span style="color:#75715e"></span>	<span style="color:#a6e22e">b</span>.<span style="color:#a6e22e">RunParallel</span>(<span style="color:#66d9ef">func</span>(<span style="color:#a6e22e">pb</span> <span style="color:#f92672">*</span><span style="color:#a6e22e">testing</span>.<span style="color:#a6e22e">PB</span>) {
		<span style="color:#66d9ef">for</span> <span style="color:#a6e22e">pb</span>.<span style="color:#a6e22e">Next</span>() {
			<span style="color:#a6e22e">Split</span>(<span style="color:#e6db74">&#34;æ²™æ²³æœ‰æ²™åˆæœ‰æ²³&#34;</span>, <span style="color:#e6db74">&#34;æ²™&#34;</span>)
		}
	})
}
</code></pre></div><p>æ‰§è¡Œä¸€ä¸‹åŸºå‡†æµ‹è¯•ï¼š</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-bash" data-lang="bash">split $ go test -bench<span style="color:#f92672">=</span>.
goos: darwin
goarch: amd64
pkg: github.com/Q1mi/studygo/code_demo/test_demo/split
BenchmarkSplit-8                <span style="color:#ae81ff">10000000</span>               <span style="color:#ae81ff">131</span> ns/op
BenchmarkSplitParallel-8        <span style="color:#ae81ff">50000000</span>                36.1 ns/op
PASS
ok      github.com/Q1mi/studygo/code_demo/test_demo/split       3.308s
</code></pre></div><p>è¿˜å¯ä»¥é€šè¿‡åœ¨æµ‹è¯•å‘½ä»¤åæ·»åŠ <code>-cpu</code>å‚æ•°å¦‚<code>go test -bench=. -cpu 1</code>æ¥æŒ‡å®šä½¿ç”¨çš„CPUæ•°é‡ã€‚</p>
<h2 id="setupä¸teardown">Setupä¸TearDown</h2>
<p>æµ‹è¯•ç¨‹åºæœ‰æ—¶éœ€è¦åœ¨æµ‹è¯•ä¹‹å‰è¿›è¡Œé¢å¤–çš„è®¾ç½®ï¼ˆsetupï¼‰æˆ–åœ¨æµ‹è¯•ä¹‹åè¿›è¡Œæ‹†å¸ï¼ˆteardownï¼‰ã€‚</p>
<h2 id="testmain">TestMain</h2>
<p>é€šè¿‡åœ¨<code>*_test.go</code>æ–‡ä»¶ä¸­å®šä¹‰<code>TestMain</code>å‡½æ•°æ¥å¯ä»¥åœ¨æµ‹è¯•ä¹‹å‰è¿›è¡Œé¢å¤–çš„è®¾ç½®ï¼ˆsetupï¼‰æˆ–åœ¨æµ‹è¯•ä¹‹åè¿›è¡Œæ‹†å¸ï¼ˆteardownï¼‰æ“ä½œã€‚</p>
<p>å¦‚æœæµ‹è¯•æ–‡ä»¶åŒ…å«å‡½æ•°:<code>func TestMain(m *testing.M)</code>é‚£ä¹ˆç”Ÿæˆçš„æµ‹è¯•ä¼šå…ˆè°ƒç”¨ TestMain(m)ï¼Œç„¶åå†è¿è¡Œå…·ä½“æµ‹è¯•ã€‚<code>TestMain</code>è¿è¡Œåœ¨ä¸»<code>goroutine</code>ä¸­, å¯ä»¥åœ¨è°ƒç”¨ <code>m.Run</code>å‰ååšä»»ä½•è®¾ç½®ï¼ˆsetupï¼‰å’Œæ‹†å¸ï¼ˆteardownï¼‰ã€‚é€€å‡ºæµ‹è¯•çš„æ—¶å€™åº”è¯¥ä½¿ç”¨<code>m.Run</code>çš„è¿”å›å€¼ä½œä¸ºå‚æ•°è°ƒç”¨<code>os.Exit</code>ã€‚</p>
<p>ä¸€ä¸ªä½¿ç”¨<code>TestMain</code>æ¥è®¾ç½®Setupå’ŒTearDownçš„ç¤ºä¾‹å¦‚ä¸‹ï¼š</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-go" data-lang="go"><span style="color:#66d9ef">func</span> <span style="color:#a6e22e">TestMain</span>(<span style="color:#a6e22e">m</span> <span style="color:#f92672">*</span><span style="color:#a6e22e">testing</span>.<span style="color:#a6e22e">M</span>) {
	<span style="color:#a6e22e">fmt</span>.<span style="color:#a6e22e">Println</span>(<span style="color:#e6db74">&#34;write setup code here...&#34;</span>) <span style="color:#75715e">// æµ‹è¯•ä¹‹å‰çš„åšä¸€äº›è®¾ç½®
</span><span style="color:#75715e"></span>	<span style="color:#75715e">// å¦‚æœ TestMain ä½¿ç”¨äº† flagsï¼Œè¿™é‡Œåº”è¯¥åŠ ä¸Šflag.Parse()
</span><span style="color:#75715e"></span>	<span style="color:#a6e22e">retCode</span> <span style="color:#f92672">:=</span> <span style="color:#a6e22e">m</span>.<span style="color:#a6e22e">Run</span>()                         <span style="color:#75715e">// æ‰§è¡Œæµ‹è¯•
</span><span style="color:#75715e"></span>	<span style="color:#a6e22e">fmt</span>.<span style="color:#a6e22e">Println</span>(<span style="color:#e6db74">&#34;write teardown code here...&#34;</span>) <span style="color:#75715e">// æµ‹è¯•ä¹‹ååšä¸€äº›æ‹†å¸å·¥ä½œ
</span><span style="color:#75715e"></span>	<span style="color:#a6e22e">os</span>.<span style="color:#a6e22e">Exit</span>(<span style="color:#a6e22e">retCode</span>)                           <span style="color:#75715e">// é€€å‡ºæµ‹è¯•
</span><span style="color:#75715e"></span>}
</code></pre></div><p>éœ€è¦æ³¨æ„çš„æ˜¯ï¼šåœ¨è°ƒç”¨<code>TestMain</code>æ—¶, <code>flag.Parse</code>å¹¶æ²¡æœ‰è¢«è°ƒç”¨ã€‚æ‰€ä»¥å¦‚æœ<code>TestMain</code> ä¾èµ–äºcommand-lineæ ‡å¿— (åŒ…æ‹¬ testing åŒ…çš„æ ‡è®°), åˆ™åº”è¯¥æ˜¾ç¤ºçš„è°ƒç”¨<code>flag.Parse</code>ã€‚</p>
<h2 id="å­æµ‹è¯•çš„setupä¸teardown">å­æµ‹è¯•çš„Setupä¸Teardown</h2>
<p>æœ‰æ—¶å€™æˆ‘ä»¬å¯èƒ½éœ€è¦ä¸ºæ¯ä¸ªæµ‹è¯•é›†è®¾ç½®Setupä¸Teardownï¼Œä¹Ÿæœ‰å¯èƒ½éœ€è¦ä¸ºæ¯ä¸ªå­æµ‹è¯•è®¾ç½®Setupä¸Teardownã€‚ä¸‹é¢æˆ‘ä»¬å®šä¹‰ä¸¤ä¸ªå‡½æ•°å·¥å…·å‡½æ•°å¦‚ä¸‹ï¼š</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-go" data-lang="go"><span style="color:#75715e">// æµ‹è¯•é›†çš„Setupä¸Teardown
</span><span style="color:#75715e"></span><span style="color:#66d9ef">func</span> <span style="color:#a6e22e">setupTestCase</span>(<span style="color:#a6e22e">t</span> <span style="color:#f92672">*</span><span style="color:#a6e22e">testing</span>.<span style="color:#a6e22e">T</span>) <span style="color:#66d9ef">func</span>(<span style="color:#a6e22e">t</span> <span style="color:#f92672">*</span><span style="color:#a6e22e">testing</span>.<span style="color:#a6e22e">T</span>) {
	<span style="color:#a6e22e">t</span>.<span style="color:#a6e22e">Log</span>(<span style="color:#e6db74">&#34;å¦‚æœ‰éœ€è¦åœ¨æ­¤æ‰§è¡Œ:æµ‹è¯•ä¹‹å‰çš„setup&#34;</span>)
	<span style="color:#66d9ef">return</span> <span style="color:#66d9ef">func</span>(<span style="color:#a6e22e">t</span> <span style="color:#f92672">*</span><span style="color:#a6e22e">testing</span>.<span style="color:#a6e22e">T</span>) {
		<span style="color:#a6e22e">t</span>.<span style="color:#a6e22e">Log</span>(<span style="color:#e6db74">&#34;å¦‚æœ‰éœ€è¦åœ¨æ­¤æ‰§è¡Œ:æµ‹è¯•ä¹‹åçš„teardown&#34;</span>)
	}
}

<span style="color:#75715e">// å­æµ‹è¯•çš„Setupä¸Teardown
</span><span style="color:#75715e"></span><span style="color:#66d9ef">func</span> <span style="color:#a6e22e">setupSubTest</span>(<span style="color:#a6e22e">t</span> <span style="color:#f92672">*</span><span style="color:#a6e22e">testing</span>.<span style="color:#a6e22e">T</span>) <span style="color:#66d9ef">func</span>(<span style="color:#a6e22e">t</span> <span style="color:#f92672">*</span><span style="color:#a6e22e">testing</span>.<span style="color:#a6e22e">T</span>) {
	<span style="color:#a6e22e">t</span>.<span style="color:#a6e22e">Log</span>(<span style="color:#e6db74">&#34;å¦‚æœ‰éœ€è¦åœ¨æ­¤æ‰§è¡Œ:å­æµ‹è¯•ä¹‹å‰çš„setup&#34;</span>)
	<span style="color:#66d9ef">return</span> <span style="color:#66d9ef">func</span>(<span style="color:#a6e22e">t</span> <span style="color:#f92672">*</span><span style="color:#a6e22e">testing</span>.<span style="color:#a6e22e">T</span>) {
		<span style="color:#a6e22e">t</span>.<span style="color:#a6e22e">Log</span>(<span style="color:#e6db74">&#34;å¦‚æœ‰éœ€è¦åœ¨æ­¤æ‰§è¡Œ:å­æµ‹è¯•ä¹‹åçš„teardown&#34;</span>)
	}
}
</code></pre></div><p>ä½¿ç”¨æ–¹å¼å¦‚ä¸‹ï¼š</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-go" data-lang="go"><span style="color:#66d9ef">func</span> <span style="color:#a6e22e">TestSplit</span>(<span style="color:#a6e22e">t</span> <span style="color:#f92672">*</span><span style="color:#a6e22e">testing</span>.<span style="color:#a6e22e">T</span>) {
	<span style="color:#66d9ef">type</span> <span style="color:#a6e22e">test</span> <span style="color:#66d9ef">struct</span> { <span style="color:#75715e">// å®šä¹‰testç»“æ„ä½“
</span><span style="color:#75715e"></span>		<span style="color:#a6e22e">input</span> <span style="color:#66d9ef">string</span>
		<span style="color:#a6e22e">sep</span>   <span style="color:#66d9ef">string</span>
		<span style="color:#a6e22e">want</span>  []<span style="color:#66d9ef">string</span>
	}
	<span style="color:#a6e22e">tests</span> <span style="color:#f92672">:=</span> <span style="color:#66d9ef">map</span>[<span style="color:#66d9ef">string</span>]<span style="color:#a6e22e">test</span>{ <span style="color:#75715e">// æµ‹è¯•ç”¨ä¾‹ä½¿ç”¨mapå­˜å‚¨
</span><span style="color:#75715e"></span>		<span style="color:#e6db74">&#34;simple&#34;</span>:      {<span style="color:#a6e22e">input</span>: <span style="color:#e6db74">&#34;ağŸ…±ï¸c&#34;</span>, <span style="color:#a6e22e">sep</span>: <span style="color:#e6db74">&#34;:&#34;</span>, <span style="color:#a6e22e">want</span>: []<span style="color:#66d9ef">string</span>{<span style="color:#e6db74">&#34;a&#34;</span>, <span style="color:#e6db74">&#34;b&#34;</span>, <span style="color:#e6db74">&#34;c&#34;</span>}},
		<span style="color:#e6db74">&#34;wrong sep&#34;</span>:   {<span style="color:#a6e22e">input</span>: <span style="color:#e6db74">&#34;ağŸ…±ï¸c&#34;</span>, <span style="color:#a6e22e">sep</span>: <span style="color:#e6db74">&#34;,&#34;</span>, <span style="color:#a6e22e">want</span>: []<span style="color:#66d9ef">string</span>{<span style="color:#e6db74">&#34;ağŸ…±ï¸c&#34;</span>}},
		<span style="color:#e6db74">&#34;more sep&#34;</span>:    {<span style="color:#a6e22e">input</span>: <span style="color:#e6db74">&#34;abcd&#34;</span>, <span style="color:#a6e22e">sep</span>: <span style="color:#e6db74">&#34;bc&#34;</span>, <span style="color:#a6e22e">want</span>: []<span style="color:#66d9ef">string</span>{<span style="color:#e6db74">&#34;a&#34;</span>, <span style="color:#e6db74">&#34;d&#34;</span>}},
		<span style="color:#e6db74">&#34;leading sep&#34;</span>: {<span style="color:#a6e22e">input</span>: <span style="color:#e6db74">&#34;æ²™æ²³æœ‰æ²™åˆæœ‰æ²³&#34;</span>, <span style="color:#a6e22e">sep</span>: <span style="color:#e6db74">&#34;æ²™&#34;</span>, <span style="color:#a6e22e">want</span>: []<span style="color:#66d9ef">string</span>{<span style="color:#e6db74">&#34;&#34;</span>, <span style="color:#e6db74">&#34;æ²³æœ‰&#34;</span>, <span style="color:#e6db74">&#34;åˆæœ‰æ²³&#34;</span>}},
	}
	<span style="color:#a6e22e">teardownTestCase</span> <span style="color:#f92672">:=</span> <span style="color:#a6e22e">setupTestCase</span>(<span style="color:#a6e22e">t</span>) <span style="color:#75715e">// æµ‹è¯•ä¹‹å‰æ‰§è¡Œsetupæ“ä½œ
</span><span style="color:#75715e"></span>	<span style="color:#66d9ef">defer</span> <span style="color:#a6e22e">teardownTestCase</span>(<span style="color:#a6e22e">t</span>)            <span style="color:#75715e">// æµ‹è¯•ä¹‹åæ‰§è¡Œtestdoenæ“ä½œ
</span><span style="color:#75715e"></span>
	<span style="color:#66d9ef">for</span> <span style="color:#a6e22e">name</span>, <span style="color:#a6e22e">tc</span> <span style="color:#f92672">:=</span> <span style="color:#66d9ef">range</span> <span style="color:#a6e22e">tests</span> {
		<span style="color:#a6e22e">t</span>.<span style="color:#a6e22e">Run</span>(<span style="color:#a6e22e">name</span>, <span style="color:#66d9ef">func</span>(<span style="color:#a6e22e">t</span> <span style="color:#f92672">*</span><span style="color:#a6e22e">testing</span>.<span style="color:#a6e22e">T</span>) { <span style="color:#75715e">// ä½¿ç”¨t.Run()æ‰§è¡Œå­æµ‹è¯•
</span><span style="color:#75715e"></span>			<span style="color:#a6e22e">teardownSubTest</span> <span style="color:#f92672">:=</span> <span style="color:#a6e22e">setupSubTest</span>(<span style="color:#a6e22e">t</span>) <span style="color:#75715e">// å­æµ‹è¯•ä¹‹å‰æ‰§è¡Œsetupæ“ä½œ
</span><span style="color:#75715e"></span>			<span style="color:#66d9ef">defer</span> <span style="color:#a6e22e">teardownSubTest</span>(<span style="color:#a6e22e">t</span>)           <span style="color:#75715e">// æµ‹è¯•ä¹‹åæ‰§è¡Œtestdoenæ“ä½œ
</span><span style="color:#75715e"></span>			<span style="color:#a6e22e">got</span> <span style="color:#f92672">:=</span> <span style="color:#a6e22e">Split</span>(<span style="color:#a6e22e">tc</span>.<span style="color:#a6e22e">input</span>, <span style="color:#a6e22e">tc</span>.<span style="color:#a6e22e">sep</span>)
			<span style="color:#66d9ef">if</span> !<span style="color:#a6e22e">reflect</span>.<span style="color:#a6e22e">DeepEqual</span>(<span style="color:#a6e22e">got</span>, <span style="color:#a6e22e">tc</span>.<span style="color:#a6e22e">want</span>) {
				<span style="color:#a6e22e">t</span>.<span style="color:#a6e22e">Errorf</span>(<span style="color:#e6db74">&#34;excepted:%#v, got:%#v&#34;</span>, <span style="color:#a6e22e">tc</span>.<span style="color:#a6e22e">want</span>, <span style="color:#a6e22e">got</span>)
			}
		})
	}
}
</code></pre></div><p>æµ‹è¯•ç»“æœå¦‚ä¸‹ï¼š</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-bash" data-lang="bash">split $ go test -v
<span style="color:#f92672">===</span> RUN   TestSplit
<span style="color:#f92672">===</span> RUN   TestSplit/simple
<span style="color:#f92672">===</span> RUN   TestSplit/wrong_sep
<span style="color:#f92672">===</span> RUN   TestSplit/more_sep
<span style="color:#f92672">===</span> RUN   TestSplit/leading_sep
--- PASS: TestSplit <span style="color:#f92672">(</span>0.00s<span style="color:#f92672">)</span>
    split_test.go:71: å¦‚æœ‰éœ€è¦åœ¨æ­¤æ‰§è¡Œ:æµ‹è¯•ä¹‹å‰çš„setup
    --- PASS: TestSplit/simple <span style="color:#f92672">(</span>0.00s<span style="color:#f92672">)</span>
        split_test.go:79: å¦‚æœ‰éœ€è¦åœ¨æ­¤æ‰§è¡Œ:å­æµ‹è¯•ä¹‹å‰çš„setup
        split_test.go:81: å¦‚æœ‰éœ€è¦åœ¨æ­¤æ‰§è¡Œ:å­æµ‹è¯•ä¹‹åçš„teardown
    --- PASS: TestSplit/wrong_sep <span style="color:#f92672">(</span>0.00s<span style="color:#f92672">)</span>
        split_test.go:79: å¦‚æœ‰éœ€è¦åœ¨æ­¤æ‰§è¡Œ:å­æµ‹è¯•ä¹‹å‰çš„setup
        split_test.go:81: å¦‚æœ‰éœ€è¦åœ¨æ­¤æ‰§è¡Œ:å­æµ‹è¯•ä¹‹åçš„teardown
    --- PASS: TestSplit/more_sep <span style="color:#f92672">(</span>0.00s<span style="color:#f92672">)</span>
        split_test.go:79: å¦‚æœ‰éœ€è¦åœ¨æ­¤æ‰§è¡Œ:å­æµ‹è¯•ä¹‹å‰çš„setup
        split_test.go:81: å¦‚æœ‰éœ€è¦åœ¨æ­¤æ‰§è¡Œ:å­æµ‹è¯•ä¹‹åçš„teardown
    --- PASS: TestSplit/leading_sep <span style="color:#f92672">(</span>0.00s<span style="color:#f92672">)</span>
        split_test.go:79: å¦‚æœ‰éœ€è¦åœ¨æ­¤æ‰§è¡Œ:å­æµ‹è¯•ä¹‹å‰çš„setup
        split_test.go:81: å¦‚æœ‰éœ€è¦åœ¨æ­¤æ‰§è¡Œ:å­æµ‹è¯•ä¹‹åçš„teardown
    split_test.go:73: å¦‚æœ‰éœ€è¦åœ¨æ­¤æ‰§è¡Œ:æµ‹è¯•ä¹‹åçš„teardown
<span style="color:#f92672">===</span> RUN   ExampleSplit
--- PASS: ExampleSplit <span style="color:#f92672">(</span>0.00s<span style="color:#f92672">)</span>
PASS
ok      github.com/Q1mi/studygo/code_demo/test_demo/split       0.006s
</code></pre></div><h1 id="ç¤ºä¾‹å‡½æ•°">ç¤ºä¾‹å‡½æ•°</h1>
<h2 id="ç¤ºä¾‹å‡½æ•°ç¤ºä¾‹">ç¤ºä¾‹å‡½æ•°ç¤ºä¾‹</h2>
<p>ä¸‹é¢çš„ä»£ç æ˜¯æˆ‘ä»¬ä¸º<code>Split</code>å‡½æ•°ç¼–å†™çš„ä¸€ä¸ªç¤ºä¾‹å‡½æ•°ï¼š</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-go" data-lang="go"><span style="color:#66d9ef">func</span> <span style="color:#a6e22e">ExampleSplit</span>() {
	<span style="color:#a6e22e">fmt</span>.<span style="color:#a6e22e">Println</span>(<span style="color:#a6e22e">split</span>.<span style="color:#a6e22e">Split</span>(<span style="color:#e6db74">&#34;ağŸ…±ï¸c&#34;</span>, <span style="color:#e6db74">&#34;:&#34;</span>))
	<span style="color:#a6e22e">fmt</span>.<span style="color:#a6e22e">Println</span>(<span style="color:#a6e22e">split</span>.<span style="color:#a6e22e">Split</span>(<span style="color:#e6db74">&#34;æ²™æ²³æœ‰æ²™åˆæœ‰æ²³&#34;</span>, <span style="color:#e6db74">&#34;æ²™&#34;</span>))
	<span style="color:#75715e">// Output:
</span><span style="color:#75715e"></span>	<span style="color:#75715e">// [a b c]
</span><span style="color:#75715e"></span>	<span style="color:#75715e">// [ æ²³æœ‰ åˆæœ‰æ²³]
</span><span style="color:#75715e"></span>}
</code></pre></div><p>ä¸ºä½ çš„ä»£ç ç¼–å†™ç¤ºä¾‹ä»£ç æœ‰å¦‚ä¸‹ä¸‰ä¸ªç”¨å¤„ï¼š</p>
<ol>
<li>
<p>ç¤ºä¾‹å‡½æ•°èƒ½å¤Ÿä½œä¸ºæ–‡æ¡£ç›´æ¥ä½¿ç”¨ï¼Œä¾‹å¦‚åŸºäºwebçš„godocä¸­èƒ½æŠŠç¤ºä¾‹å‡½æ•°ä¸å¯¹åº”çš„å‡½æ•°æˆ–åŒ…ç›¸å…³è”ã€‚</p>
</li>
<li>
<p>ç¤ºä¾‹å‡½æ•°åªè¦åŒ…å«äº†<code>// Output:</code>ä¹Ÿæ˜¯å¯ä»¥é€šè¿‡<code>go test</code>è¿è¡Œçš„å¯æ‰§è¡Œæµ‹è¯•ã€‚</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-bash" data-lang="bash">split $ go test -run Example
PASS
ok      github.com/Q1mi/studygo/code_demo/test_demo/split       0.006s
</code></pre></div></li>
<li>
<p>ç¤ºä¾‹å‡½æ•°æä¾›äº†å¯ä»¥ç›´æ¥è¿è¡Œçš„ç¤ºä¾‹ä»£ç ï¼Œå¯ä»¥ç›´æ¥åœ¨<code>golang.org</code>çš„<code>godoc</code>æ–‡æ¡£æœåŠ¡å™¨ä¸Šä½¿ç”¨<code>Go Playground</code>è¿è¡Œç¤ºä¾‹ä»£ç ã€‚</p>
</li>
</ol>

    </div>

    <div class="post-copyright">
             
            <p class="copyright-item">
                <span>Author:</span>
                <span>Jiang . </span>
                </p>
            
           
             
            <p class="copyright-item">
                    <span>Link:</span>
                    <a href=https://jfy0o0.github.io/2021/go-go-test/>https://jfy0o0.github.io/2021/go-go-test/</span>
            </p>
            
             
            <p class="copyright-item lincese">
                æœ¬æ–‡é‡‡ç”¨<a rel="license" href="http://creativecommons.org/licenses/by-nc/4.0/" target="_blank">çŸ¥è¯†å…±äº«ç½²å-éå•†ä¸šæ€§ä½¿ç”¨ 4.0 å›½é™…è®¸å¯åè®®</a>è¿›è¡Œè®¸å¯
            </p>
            
    </div>

  
    <div class="post-tags">
        
            <section>
            <i class="iconfont icon-tag"></i>Tag(s): 
            
            <span class="tag"><a href="https://jfy0o0.github.io/tags/go/">
                    #Go</a></span>
            
            </section>
        
        <section>
                <a href="javascript:window.history.back();">back</a></span> Â· 
                <span><a href="https://jfy0o0.github.io">home</a></span>
        </section>
    </div>

    <div class="post-nav">
        
        <a href="https://jfy0o0.github.io/2021/go-cgo/" class="prev" rel="prev" title="Go - cgo"><i class="iconfont icon-left"></i>&nbsp;Go - cgo</a>
         
        
        <a href="https://jfy0o0.github.io/2021/go-%E9%99%B7%E9%98%B1/" class="next" rel="next" title="Go - é™·é˜±">Go - é™·é˜±&nbsp;<i class="iconfont icon-right"></i></a>
        
    </div>

    <div class="post-comment">
          
                 
          
    </div>
</article>
          </div>
		   </main>
      <footer class="footer">
    <div class="copyright">
        &copy;
        
        <span itemprop="copyrightYear">2011 - 2021</span>
        
        <span class="with-love">
    	 <i class="iconfont icon-love"></i> 
         </span>
         
            <span class="author" itemprop="copyrightHolder"><a href="https://jfy0o0.github.io">Jiang .</a> | </span> 
         

         
		  <span>Powered by <a href="https://gohugo.io/" target="_blank" rel="external nofollow">Hugo</a> & <a href="https://github.com/liuzc/leaveit" target="_blank" rel="external nofollow">LeaveIt</a></span> 
    </div>
</footer>












    
    
    <script src="/js/vendor_no_gallery.min.js" async=""></script>
    
  



     </div>
  </body>
</html>
