<!DOCTYPE html>
<html lang="en-us">
  <head>
  <meta http-equiv="content-type" content="text/html;charset=utf-8">
  <meta http-equiv="X-UA-Compatible" content="chrome=1">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <meta name="robots" content="noodp"/>
  <meta name="author" content="jiangfy">
  
  
  
  <link rel="prev" href="https://example.com/2020/linux_commond_dir_oper/" />
  <link rel="next" href="https://example.com/2020/linux_commond_file_dir_property/" />
  <link rel="canonical" href="https://example.com/2020/linux_commond_file_find/" />
  <link rel="apple-touch-icon" sizes="180x180" href="/apple-touch-icon.png">
  <link rel="icon" type="image/png" sizes="32x32" href="/favicon-32x32.png">
  <link rel="icon" type="image/png" sizes="16x16" href="/favicon-16x16.png">
  <link rel="manifest" href="/site.webmanifest">
  <link rel="mask-icon" href="/safari-pinned-tab.svg" color="#5bbad5">
  <meta name="msapplication-TileColor" content="#da532c">
  <meta name="theme-color" content="#ffffff">
  <title>
       
       
           Linux Commond --- file find | LeaveIt
       
  </title>
  <meta name="title" content="Linux Commond --- file find | LeaveIt">
    
  
  <link rel="stylesheet" href="/font/iconfont.css">
  <link rel="stylesheet" href="/css/main.min.css">


  
  
 

<script type="application/ld+json">
 "@context" : "http://schema.org",
    "@type" : "BlogPosting",
    "mainEntityOfPage": {
         "@type": "WebPage",
         "@id": "https:\/\/example.com"
    },
    "articleSection" : "posts",
    "name" : "Linux Commond --- file find",
    "headline" : "Linux Commond --- file find",
    "description" : "[TOC]\n文件查找命令 which 1．命令格式：\nwhich 可执行文件名称\n2．命令功能：\nwhich指令会在PATH变量指定的路径中，搜索某个系统命令的位置，并且返回第一个搜索结果。\n3．命令参数：\n-n 指定文件名长度，指定的长度必须大于或等于所有文件中最长的文件名。\n-p 与-n参数相同，但此处的包括了文件的路径。\n-w 指定输出时栏位的宽度。\n-V 显示版本信息\nwhereis 1．命令格式： whereis [-bmsu] [BMS 目录名 -f ] 文件名\n2．命令功能： whereis命令是定位可执行文件、源代码文件、帮助文件在文件系统中的位置。这些文件的属性应属于原始代码，二进制文件，或是帮助文件。whereis 程序还具有搜索源代码、指定备用搜索路径和搜索不寻常项的能力。\n3．命令参数： -b 定位可执行文件。\n-m 定位帮助文件。\n-s 定位源代码文件。\n-u 搜索默认路径下除可执行文件、源代码文件、帮助文件以外的其它文件。\n-B 指定搜索可执行文件的路径。\n-M 指定搜索帮助文件的路径。\n-S 指定搜索源代码文件的路径。\nlocate 1．命令格式： Locate [选择参数] [样式]\n2．命令功能： locate命令可以在搜寻数据库时快速找到档案，数据库由updatedb程序来更新，updatedb是由cron daemon周期性建立的，locate命令在搜寻数据库时比由整个由硬盘资料来搜寻资料来得快，但较差劲的是locate所找到的档案若是最近才建立或 刚更名的，可能会找不到，在内定值中，updatedb每天会跑一次，可以由修改crontab来更新设定值。(etc\/crontab)\nlocate指定用在搜寻符合条件的档案，它会去储存档案与目录名称的数据库内，寻找合乎范本样式条件的档案或目录录，可以使用特殊字元（如”” 或”?”等）来指定范本样式，如指定范本为kcpaner, locate会找出所有起始字串为kcpa且结尾为ner的档案或目录，如名称为kcpartner若目录录名称为kcpa_ner则会列出该目录下包括 子目录在内的所有档案。\nlocate指令和find找寻档案的功能类似，但locate是透过update程序将硬盘中的所有档案和目录资料先建立一个索引数据库，在 执行loacte时直接找该索引，查询速度会较快，索引数据库一般是由操作系统管理，但也可以直接下达update强迫系统立即修改索引数据库。\n3．命令参数： -e 将排除在寻找的范围之外。\n-1 如果 是 1．则启动安全模式。在安全模式下，使用者不会看到权限无法看到 的档案。这会始速度减慢，因为 locate 必须至实际的档案系统中取得档案的 权限资料。",
    "inLanguage" : "en-us",
    "author" : "jiangfy",
    "creator" : "jiangfy",
    "publisher": "jiangfy",
    "accountablePerson" : "jiangfy",
    "copyrightHolder" : "jiangfy",
    "copyrightYear" : "2020",
    "datePublished": "2020-10-19 20:13:18 \u002b0800 CST",
    "dateModified" : "2020-10-19 20:13:18 \u002b0800 CST",
    "url" : "https:\/\/example.com\/2020\/linux_commond_file_find\/",
    "wordCount" : "297",
    "keywords" : [ "Linux","cmd", "LeaveIt"]
}
</script>

</head>

  


  <body class="">
    <div class="wrapper">
        <nav class="navbar">
    <div class="container">
        <div class="navbar-header header-logo">
        	<a href="javascript:void(0);" class="theme-switch"><i class="iconfont icon-xihuan"></i></a>&nbsp;<a href="https://example.com">LeaveIt</a>
        </div>
        <div class="menu navbar-right">
                
                
                <a class="menu-item" href="/posts/" title="">Blog</a>
                
                <a class="menu-item" href="/categories/" title="">Categories</a>
                
                <a class="menu-item" href="/tags/" title="">Tags</a>
                
                <a class="menu-item" href="/about/" title="">About</a>
                
                <a class="menu-item" href="/about/" title="About Hugo">About Hugo</a>
                
        </div>
    </div>
</nav>
<nav class="navbar-mobile" id="nav-mobile" style="display: none">
     <div class="container">
        <div class="navbar-header">
            <div>  <a href="javascript:void(0);" class="theme-switch"><i class="iconfont icon-xihuan"></i></a>&nbsp;<a href="https://example.com">LeaveIt</a></div>
            <div class="menu-toggle">
                <span></span><span></span><span></span>
            </div>
        </div>
     
          <div class="menu" id="mobile-menu">
                
                
                <a class="menu-item" href="/posts/" title="">Blog</a>
                
                <a class="menu-item" href="/categories/" title="">Categories</a>
                
                <a class="menu-item" href="/tags/" title="">Tags</a>
                
                <a class="menu-item" href="/about/" title="">About</a>
                
                <a class="menu-item" href="/about/" title="About Hugo">About Hugo</a>
                
        </div>
    </div>
</nav>
    	 <main class="main">
          <div class="container">
      		
<article class="post-warp" itemscope itemtype="http://schema.org/Article">
    <header class="post-header">
        <h1 class="post-title" itemprop="name headline">Linux Commond --- file find</h1>
        <div class="post-meta">
                Written by <a itemprop="name" href="https://example.com" rel="author">jiangfy</a> with ♥ 
                <span class="post-time">
                on <time datetime=2020-10-19 itemprop="datePublished">October 19, 2020</time>
                </span>
                in
                <i class="iconfont icon-folder"></i>
                <span class="post-category">
                        <a href="https://example.com/categories/linux/"> Linux </a>
                        
                </span>
        </div>
    </header>
    <div class="post-content">
        

        

        
        
     
          
          
          

          
          
          

          <p>[TOC]</p>
<h1 id="文件查找命令">文件查找命令</h1>
<h2 id="which">which</h2>
<p><strong>1．命令格式：</strong></p>
<p>which 可执行文件名称</p>
<p><strong>2．命令功能：</strong></p>
<p>which指令会在PATH变量指定的路径中，搜索某个系统命令的位置，并且返回第一个搜索结果。</p>
<p><strong>3．命令参数：</strong></p>
<p>-n 指定文件名长度，指定的长度必须大于或等于所有文件中最长的文件名。</p>
<p>-p 与-n参数相同，但此处的包括了文件的路径。</p>
<p>-w 指定输出时栏位的宽度。</p>
<p>-V 显示版本信息</p>
<h2 id="whereis">whereis</h2>
<h3 id="1命令格式"><strong>1．命令格式：</strong></h3>
<p>whereis [-bmsu] [BMS 目录名 -f ] 文件名</p>
<h3 id="2命令功能"><strong>2．命令功能：</strong></h3>
<p>whereis命令是定位可执行文件、源代码文件、帮助文件在文件系统中的位置。这些文件的属性应属于原始代码，二进制文件，或是帮助文件。whereis 程序还具有搜索源代码、指定备用搜索路径和搜索不寻常项的能力。</p>
<h3 id="3命令参数"><strong>3．命令参数：</strong></h3>
<p>-b  定位可执行文件。</p>
<p>-m  定位帮助文件。</p>
<p>-s  定位源代码文件。</p>
<p>-u  搜索默认路径下除可执行文件、源代码文件、帮助文件以外的其它文件。</p>
<p>-B  指定搜索可执行文件的路径。</p>
<p>-M  指定搜索帮助文件的路径。</p>
<p>-S  指定搜索源代码文件的路径。</p>
<h2 id="locate">locate</h2>
<h3 id="1命令格式-1"><strong>1．命令格式：</strong></h3>
<p>Locate [选择参数] [样式]</p>
<h3 id="2命令功能-1"><strong>2．命令功能：</strong></h3>
<p>locate命令可以在搜寻数据库时快速找到档案，数据库由updatedb程序来更新，updatedb是由cron daemon周期性建立的，locate命令在搜寻数据库时比由整个由硬盘资料来搜寻资料来得快，但较差劲的是locate所找到的档案若是最近才建立或 刚更名的，可能会找不到，在内定值中，updatedb每天会跑一次，可以由修改crontab来更新设定值。(etc/crontab)</p>
<p>locate指定用在搜寻符合条件的档案，它会去储存档案与目录名称的数据库内，寻找合乎范本样式条件的档案或目录录，可以使用特殊字元（如”<em>” 或”?”等）来指定范本样式，如指定范本为kcpa</em>ner, locate会找出所有起始字串为kcpa且结尾为ner的档案或目录，如名称为kcpartner若目录录名称为kcpa_ner则会列出该目录下包括 子目录在内的所有档案。</p>
<p>locate指令和find找寻档案的功能类似，但locate是透过update程序将硬盘中的所有档案和目录资料先建立一个索引数据库，在 执行loacte时直接找该索引，查询速度会较快，索引数据库一般是由操作系统管理，但也可以直接下达update强迫系统立即修改索引数据库。</p>
<h3 id="3命令参数-1"><strong>3．命令参数：</strong></h3>
<p>-e  将排除在寻找的范围之外。</p>
<p>-1 如果 是 1．则启动安全模式。在安全模式下，使用者不会看到权限无法看到 的档案。这会始速度减慢，因为 locate 必须至实际的档案系统中取得档案的 权限资料。</p>
<p>-f  将特定的档案系统排除在外，例如我们没有到理要把 proc 档案系统中的档案 放在资料库中。</p>
<p>-q 安静模式，不会显示任何错误讯息。</p>
<p>-n 至多显示 n个输出。</p>
<p>-r 使用正规运算式 做寻找的条件。</p>
<p>-o 指定资料库存的名称。</p>
<p>-d 指定资料库的路径</p>
<p>-h 显示辅助讯息</p>
<p>-V 显示程式的版本讯息</p>
<h2 id="find">find</h2>
<h3 id="1命令格式-2">**1．**命令格式：</h3>
<p>find pathname -options [-print -exec -ok &hellip;]</p>
<h3 id="2命令功能-2">**2．**命令功能：</h3>
<p>用于在文件树种查找文件，并作出相应的处理</p>
<h3 id="3命令参数-2"><strong>3．命令参数：</strong></h3>
<p>pathname: find命令所查找的目录路径。例如用.来表示当前目录，用/来表示系统根目录。</p>
<p>-print： find命令将匹配的文件输出到标准输出。</p>
<p>-exec： find命令对匹配的文件执行该参数所给出的shell命令。相应命令的形式为&rsquo;command' { } ;，注意{  }和\；之间的空格。</p>
<p>-ok： 和-exec的作用相同，只不过以一种更为安全的模式来执行该参数所给出的shell命令，在执行每一个命令之前，都会给出提示，让用户来确定是否执行。</p>
<h3 id="4命令选项"><strong>4．命令选项：</strong></h3>
<p>-name  按照文件名查找文件。</p>
<p>-perm  按照文件权限来查找文件。</p>
<p>-prune 使用这一选项可以使find命令不在当前指定的目录中查找，如果同时使用-depth选项，那么-prune将被find命令忽略。</p>
<p>-user  按照文件属主来查找文件。</p>
<p>-group 按照文件所属的组来查找文件。</p>
<p>-mtime -n +n 按照文件的更改时间来查找文件， - n表示文件更改时间距现在n天以内，+ n表示文件更改时间距现在n天以前。find命令还有-atime和-ctime 选项，但它们都和-m time选项。</p>
<p>-nogroup 查找无有效所属组的文件，即该文件所属的组在/etc/groups中不存在。</p>
<p>-nouser  查找无有效属主的文件，即该文件的属主在/etc/passwd中不存在。</p>
<p>-newer file1 ! file2 查找更改时间比文件file1新但比文件file2旧的文件。</p>
<p>-type 查找某一类型的文件，诸如：</p>
<p>b - 块设备文件。</p>
<p>d - 目录。</p>
<p>c - 字符设备文件。</p>
<p>p - 管道文件。</p>
<p>l - 符号链接文件。</p>
<p>f - 普通文件。</p>
<p>-size n：[c] 查找文件长度为n块的文件，带有c时表示文件长度以字节计。-depth：在查找文件时，首先查找当前目录中的文件，然后再在其子目录中查找。</p>
<p>-fstype：查找位于某一类型文件系统中的文件，这些文件系统类型通常可以在配置文件/etc/fstab中找到，该配置文件中包含了本系统中有关文件系统的信息。</p>
<p>-mount：在查找文件时不跨越文件系统mount点。</p>
<p>-follow：如果find命令遇到符号链接文件，就跟踪至链接所指向的文件。</p>
<p>-cpio：对匹配的文件使用cpio命令，将这些文件备份到磁带设备中。</p>
<p>另外,下面三个的区别:</p>
<p>-amin n  查找系统中最后N分钟访问的文件</p>
<p>-atime n 查找系统中最后n*24小时访问的文件</p>
<p>-cmin n  查找系统中最后N分钟被改变文件状态的文件</p>
<p>-ctime n 查找系统中最后n*24小时被改变文件状态的文件</p>
<p>-mmin n  查找系统中最后N分钟被改变文件数据的文件</p>
<p>-mtime n 查找系统中最后n*24小时被改变文件数据的文件</p>
<h2 id="find之exec">find之exec</h2>
<p>find是我们很常用的一个Linux命令，但是我们一般查找出来的并不仅仅是看看而已，还会有进一步的操作，这个时候exec的作用就显现出来了。</p>
<p><strong>exec解释：</strong></p>
<p>-exec 参数后面跟的是command命令，它的终止是以;为结束标志的，所以这句命令后面的分号是不可缺少的，考虑到各个系统中分号会有不同的意义，所以前面加反斜杠。</p>
<p>{}  花括号代表前面find查找出来的文件名。</p>
<p>使用find时，只要把想要的操作写在一个文件里，就可以用exec来配合find查找，很方便的。在有些操作系统中只允许-exec选项执行诸如l s或ls -l这样的命令。大多数用户使用这一选项是为了查找旧文件并删除它们。建议在真正执行rm命令删除文件之前，最好先用ls命令看一下，确认它们是所要删除的文件。 exec选项后面跟随着所要执行的命令或脚本，然后是一对儿{ }，一个空格和一个\，最后是一个分号。为了使用exec选项，必须要同时使用print选项。如果验证一下find命令，会发现该命令只输出从当前路径起的相对路径及文件名。</p>
<p><strong>实例</strong>1：ls -l命令放在find命令的-exec选项中</p>
<p><strong>命令：</strong></p>
<p>find . -type f -exec ls -l {} ;</p>
<h2 id="find之xargs">find之xargs</h2>
<p>在使用 find命令的-exec选项处理匹配到的文件时， find命令将所有匹配到的文件一起传递给exec执行。但有些系统对能够传递给exec的命令长度有限制，这样在find命令运行几分钟之后，就会出现溢出错误。错误信息通常是“参数列太长”或“参数列溢出”。这就是xargs命令的用处所在，特别是与find命令一起使用。</p>
<p>find命令把匹配到的文件传递给xargs命令，而xargs命令每次只获取一部分文件而不是全部，不像-exec选项那样。这样它可以先处理最先获取的一部分文件，然后是下一批，并如此继续下去。</p>
<p>在有些系统中，使用-exec选项会为处理每一个匹配到的文件而发起一个相应的进程，并非将匹配到的文件全部作为参数一次执行；这样在有些情况下就会出现进程过多，系统性能下降的问题，因而效率不高； 而使用xargs命令则只有一个进程。另外，在使用xargs命令时，究竟是一次获取所有的参数，还是分批取得参数，以及每一次获取参数的数目都会根据该命令的选项及系统内核中相应的可调参数来确定。</p>
<p><strong>使用实例：</strong></p>
<p>**实例1： **查找系统中的每一个普通文件，然后使用xargs命令来测试它们分别属于哪类文件</p>
<p><strong>命令：</strong></p>
<p>find . -type f -print | xargs file</p>
<h2 id="find参数详解">find参数详解</h2>
<h3 id="1使用name选项"><strong>1．使用name选项：</strong></h3>
<p>文件名选项是find命令最常用的选项，要么单独使用该选项，要么和其他选项一起使用。 可以使用某种文件名模式来匹配文件，记住要用引号将文件名模式引起来。 不管当前路径是什么，如果想要在自己的根目录$HOME中查找文件名符合*.log的文件，使用~作为 &lsquo;pathname&rsquo;参数，波浪号~代表了你的$HOME目录。</p>
<p>find ~ -name &ldquo;*.log&rdquo; -print</p>
<p>想要在当前目录及子目录中查找所有的‘ *.log‘文件，可以用：</p>
<p>find . -name &ldquo;*.log&rdquo; -print</p>
<p>想要的当前目录及子目录中查找文件名以一个大写字母开头的文件，可以用：</p>
<p>find . -name &ldquo;[A-Z]*&rdquo; -print</p>
<p>想要在/etc目录中查找文件名以host开头的文件，可以用：</p>
<p>find /etc -name &ldquo;host*&rdquo; -print</p>
<p>想要查找$HOME目录中的文件，可以用：</p>
<p>find ~ -name &ldquo;*&rdquo; -print 或find . -print</p>
<p>要想让系统高负荷运行，就从根目录开始查找所有的文件。</p>
<p>find / -name &ldquo;*&rdquo; -print</p>
<p>如果想在当前目录查找文件名以一个个小写字母开头，最后是4到9加上.log结束的文件：</p>
<p>命令：</p>
<p>find . -name &ldquo;[a-z]*[4-9].log&rdquo; -print</p>
<h3 id="2用perm选项"><strong>2．用perm选项：</strong></h3>
<p>按照文件权限模式用-perm选项,按文件权限模式来查找文件的话。最好使用八进制的权限表示法。</p>
<h3 id="3忽略某个目录"><strong>3．忽略某个目录：</strong></h3>
<p>如果在查找文件时希望忽略某个目录，因为你知道那个目录中没有你所要查找的文件，那么可以使用-prune选项来指出需要忽略的目录。在使用-prune选项时要当心，因为如果你同时使用了-depth选项，那么-prune选项就会被find命令忽略。如果希望在test目录下查找文件，但不希望在test/test3目录下查找，可以用：</p>
<p><strong>命令：</strong></p>
<p>find test -path &ldquo;test/test3&rdquo; -prune -o -print</p>

    </div>

    <div class="post-copyright">
             
            <p class="copyright-item">
                <span>Author:</span>
                <span>jiangfy </span>
                </p>
            
           
             
            <p class="copyright-item">
                    <span>Link:</span>
                    <a href=https://example.com/2020/linux_commond_file_find/>https://example.com/2020/linux_commond_file_find/</span>
            </p>
            
             
            <p class="copyright-item lincese">
                本文采用<a rel="license" href="http://creativecommons.org/licenses/by-nc/4.0/" target="_blank">知识共享署名-非商业性使用 4.0 国际许可协议</a>进行许可
            </p>
            
    </div>

  
    <div class="post-tags">
        
            <section>
            <i class="iconfont icon-tag"></i>Tag(s): 
            
            <span class="tag"><a href="https://example.com/tags/linux/">
                    #Linux</a></span>
            
            <span class="tag"><a href="https://example.com/tags/cmd/">
                    #cmd</a></span>
            
            </section>
        
        <section>
                <a href="javascript:window.history.back();">back</a></span> · 
                <span><a href="https://example.com">home</a></span>
        </section>
    </div>

    <div class="post-nav">
        
        <a href="https://example.com/2020/linux_commond_dir_oper/" class="prev" rel="prev" title="Linux Commond --- Dir Oper"><i class="iconfont icon-left"></i>&nbsp;Linux Commond --- Dir Oper</a>
         
        
        <a href="https://example.com/2020/linux_commond_file_dir_property/" class="next" rel="next" title="Linux Commond --- File Dir Property">Linux Commond --- File Dir Property&nbsp;<i class="iconfont icon-right"></i></a>
        
    </div>

    <div class="post-comment">
          
                 
          
    </div>
</article>
          </div>
		   </main>
      <footer class="footer">
    <div class="copyright">
        &copy;
        
        <span itemprop="copyrightYear">2011 - 2020</span>
        
        <span class="with-love">
    	 <i class="iconfont icon-love"></i> 
         </span>
         
            <span class="author" itemprop="copyrightHolder"><a href="https://example.com">jiangfy</a> | </span> 
         

         
		  <span>Powered by <a href="https://gohugo.io/" target="_blank" rel="external nofollow">Hugo</a> & <a href="https://github.com/liuzc/leaveit" target="_blank" rel="external nofollow">LeaveIt</a></span> 
    </div>
</footer>












    
    
    <script src="/js/vendor_no_gallery.min.js" async=""></script>
    
  



     </div>
  </body>
</html>
