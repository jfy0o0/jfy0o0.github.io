<!DOCTYPE html>
<html lang="en-us">
  <head>
  <meta http-equiv="content-type" content="text/html;charset=utf-8">
  <meta http-equiv="X-UA-Compatible" content="chrome=1">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <meta name="robots" content="noodp"/>
  <meta name="author" content="jiangfy">
  
  
  
  <link rel="prev" href="https://example.com/2020/linux_commond_file_dir_property/" />
  
  <link rel="canonical" href="https://example.com/2020/linux_commond_other/" />
  <link rel="apple-touch-icon" sizes="180x180" href="/apple-touch-icon.png">
  <link rel="icon" type="image/png" sizes="32x32" href="/favicon-32x32.png">
  <link rel="icon" type="image/png" sizes="16x16" href="/favicon-16x16.png">
  <link rel="manifest" href="/site.webmanifest">
  <link rel="mask-icon" href="/safari-pinned-tab.svg" color="#5bbad5">
  <meta name="msapplication-TileColor" content="#da532c">
  <meta name="theme-color" content="#ffffff">
  <title>
       
       
           Linux Commond Other | LeaveIt
       
  </title>
  <meta name="title" content="Linux Commond Other | LeaveIt">
    
  
  <link rel="stylesheet" href="/font/iconfont.css">
  <link rel="stylesheet" href="/css/main.min.css">


  
  
 

<script type="application/ld+json">
 "@context" : "http://schema.org",
    "@type" : "BlogPosting",
    "mainEntityOfPage": {
         "@type": "WebPage",
         "@id": "https:\/\/example.com"
    },
    "articleSection" : "posts",
    "name" : "Linux Commond Other",
    "headline" : "Linux Commond Other",
    "description" : "[TOC]\n权限设置 chmod 1. 命令格式: chmod [-cfvR] [\u0026ndash;help] [\u0026ndash;version] mode file\n2. 命令功能： 用于改变文件或目录的访问权限，用它控制文件或目录的访问权限。\n3. 命令参数： 必要参数： -c 当发生改变时，报告处理信息 -f 错误信息不输出 -R 处理指定目录以及其子目录下的所有文件 -v 运行时显示详细处理信息\n选择参数： \u0026ndash;reference=\u0026lt;目录或者文件\u0026gt; 设置成具有指定目录或者文件具有相同的权限 \u0026ndash;version 显示版本信息 \u0026lt;权限范围\u0026gt;\u002b\u0026lt;权限设置\u0026gt; 使权限范围内的目录或者文件具有指定的权限 \u0026lt;权限范围\u0026gt;-\u0026lt;权限设置\u0026gt; 删除权限范围的目录或者文件的指定权限 \u0026lt;权限范围\u0026gt;=\u0026lt;权限设置\u0026gt; 设置权限范围内的目录或者文件的权限为指定的值\n权限范围： u ：目录或者文件的当前的用户 g ：目录或者文件的当前的群组 o ：除了目录或者文件的当前用户或群组之外的用户或者群组 a ：所有的用户及群组\n权限代号： r ：读权限，用数字4表示 w ：写权限，用数字2表示 x ：执行权限，用数字1表示 - ：删除权限，用数字0表示 s ：特殊权限\n该命令有两种用法。一种是包含字母和操作符表达式的文字设定法；另一种是包含数字的数字设定法。 1）. 文字设定法: chmod ［who］ ［\u002b | - | =］ ［mode］ 文件名 2）. 数字设定法 我们必须首先了解用数字表示的属性的含义：0表示没有权限，1表示可执行权限，2表示可写权限，4表示可读权限，然后将其相加。所以数字属性的格式应为3个从0到7的八进制数，其顺序是（u）（g）（o）。 例如，如果想让某个文件的属主有“读\/写”二种权限，需要把4（可读）\u002b2（可写）＝6（读\/写）。 数字设定法的一般形式为： chmod ［mode］ 文件名",
    "inLanguage" : "en-us",
    "author" : "jiangfy",
    "creator" : "jiangfy",
    "publisher": "jiangfy",
    "accountablePerson" : "jiangfy",
    "copyrightHolder" : "jiangfy",
    "copyrightYear" : "2020",
    "datePublished": "2020-10-19 20:36:12 \u002b0800 CST",
    "dateModified" : "2020-10-19 20:36:12 \u002b0800 CST",
    "url" : "https:\/\/example.com\/2020\/linux_commond_other\/",
    "wordCount" : "1498",
    "keywords" : [ "Linux","cmd", "LeaveIt"]
}
</script>

</head>

  


  <body class="">
    <div class="wrapper">
        <nav class="navbar">
    <div class="container">
        <div class="navbar-header header-logo">
        	<a href="javascript:void(0);" class="theme-switch"><i class="iconfont icon-xihuan"></i></a>&nbsp;<a href="https://example.com">LeaveIt</a>
        </div>
        <div class="menu navbar-right">
                
                
                <a class="menu-item" href="/posts/" title="">Blog</a>
                
                <a class="menu-item" href="/categories/" title="">Categories</a>
                
                <a class="menu-item" href="/tags/" title="">Tags</a>
                
                <a class="menu-item" href="/about/" title="">About</a>
                
                <a class="menu-item" href="/about/" title="About Hugo">About Hugo</a>
                
        </div>
    </div>
</nav>
<nav class="navbar-mobile" id="nav-mobile" style="display: none">
     <div class="container">
        <div class="navbar-header">
            <div>  <a href="javascript:void(0);" class="theme-switch"><i class="iconfont icon-xihuan"></i></a>&nbsp;<a href="https://example.com">LeaveIt</a></div>
            <div class="menu-toggle">
                <span></span><span></span><span></span>
            </div>
        </div>
     
          <div class="menu" id="mobile-menu">
                
                
                <a class="menu-item" href="/posts/" title="">Blog</a>
                
                <a class="menu-item" href="/categories/" title="">Categories</a>
                
                <a class="menu-item" href="/tags/" title="">Tags</a>
                
                <a class="menu-item" href="/about/" title="">About</a>
                
                <a class="menu-item" href="/about/" title="About Hugo">About Hugo</a>
                
        </div>
    </div>
</nav>
    	 <main class="main">
          <div class="container">
      		
<article class="post-warp" itemscope itemtype="http://schema.org/Article">
    <header class="post-header">
        <h1 class="post-title" itemprop="name headline">Linux Commond Other</h1>
        <div class="post-meta">
                Written by <a itemprop="name" href="https://example.com" rel="author">jiangfy</a> with ♥ 
                <span class="post-time">
                on <time datetime=2020-10-19 itemprop="datePublished">October 19, 2020</time>
                </span>
                in
                <i class="iconfont icon-folder"></i>
                <span class="post-category">
                        <a href="https://example.com/categories/linux/"> Linux </a>
                        
                </span>
        </div>
    </header>
    <div class="post-content">
        

        

        
        
     
          
          
          

          
          
          

          <p>[TOC]</p>
<h1 id="权限设置">权限设置</h1>
<h2 id="chmod">chmod</h2>
<h3 id="1-命令格式"><strong>1.</strong> <strong>命令格式:</strong></h3>
<p><a href="http://www.linuxso.com/command/chmod.html">chmod</a> [-cfvR] [&ndash;help] [&ndash;version] mode <a href="http://www.linuxso.com/command/file.html">file</a></p>
<h3 id="2-命令功能"><strong>2. 命令功能：</strong></h3>
<p>用于改变文件或目录的访问权限，用它控制文件或目录的访问权限。</p>
<h3 id="3-命令参数"><strong>3. 命令参数：</strong></h3>
<p><strong>必要参数：</strong>
-c 当发生改变时，报告处理信息
-f 错误信息不输出
-R 处理指定目录以及其子目录下的所有文件
-v 运行时显示详细处理信息</p>
<p><strong>选择参数：</strong>
&ndash;reference=&lt;目录或者文件&gt; 设置成具有指定目录或者文件具有相同的权限
&ndash;version 显示版本信息
&lt;权限范围&gt;+&lt;权限设置&gt; 使权限范围内的目录或者文件具有指定的权限
&lt;权限范围&gt;-&lt;权限设置&gt; 删除权限范围的目录或者文件的指定权限
&lt;权限范围&gt;=&lt;权限设置&gt; 设置权限范围内的目录或者文件的权限为指定的值</p>
<p><strong>权限范围：</strong>
u ：目录或者文件的当前的用户
g ：目录或者文件的当前的群组
o ：除了目录或者文件的当前用户或群组之外的用户或者群组
a ：所有的用户及群组</p>
<p>权限代号：
r ：读权限，用数字4表示
w ：写权限，用数字2表示
x ：执行权限，用数字1表示
- ：删除权限，用数字0表示
s ：特殊权限</p>
<p>该命令有两种用法。一种是包含字母和操作符表达式的文字设定法；另一种是包含数字的数字设定法。
　　<strong>1）. 文字设定法:</strong>
　　 chmod ［who］ ［+ | - | =］ ［mode］ 文件名
　　<strong>2）. 数字设定法</strong>
　　我们必须首先了解用数字表示的属性的含义：0表示没有权限，1表示可执行权限，2表示可写权限，4表示可读权限，然后将其相加。所以数字属性的格式应为3个从0到7的八进制数，其顺序是（u）（g）（o）。
　　例如，如果想让某个文件的属主有“读/写”二种权限，需要把4（可读）+2（可写）＝6（读/写）。
　　数字设定法的一般形式为：
　　 chmod ［mode］ 文件名</p>
<p><strong>数字与字符对应关系如下：</strong></p>
<p>r=4，w=2，x=1
若要rwx属性则4+2+1=7
若要rw-属性则4+2=6；
若要r-x属性则4+1=7。</p>
<h2 id="chgrp">chgrp</h2>
<p><strong>1．命令格式：</strong></p>
<p>chgrp [选项] [组] [文件]</p>
<p><strong>2．命令功能：</strong></p>
<p>chgrp命令可采用群组名称或群组识别码的方式改变文件或目录的所属群组。使用权限是超级用户。</p>
<p><strong>3．命令参数：</strong></p>
<p><strong>必要参数:</strong></p>
<p>-c 当发生改变时输出调试信息</p>
<p>-f 不显示错误信息</p>
<p>-R 处理指定目录以及其子目录下的所有文件</p>
<p>-v 运行时显示详细的处理信息</p>
<p>&ndash;dereference 作用于符号链接的指向，而不是符号链接本身</p>
<p>&ndash;no-dereference 作用于符号链接本身</p>
<p><strong>选择参数:</strong></p>
<p>&ndash;reference=&lt;文件或者目录&gt;</p>
<p>&ndash;help 显示帮助信息</p>
<p>&ndash;version 显示版本信息</p>
<h2 id="chown">chown</h2>
<h3 id="1命令格式"><strong>1．命令格式：</strong></h3>
<p>　　　　chown [选项]&hellip; [所有者][:[组]] 文件&hellip;</p>
<h3 id="2命令功能"><strong>2．命令功能：</strong></h3>
<p>　　　　通过chown改变文件的拥有者和群组。在更改文件的所有者或所属群组时，可以使用用户名称和用户识别码设置。普通用户不能将自己的文件改变成其他的拥有者。其操作权限一般为管理员。</p>
<h3 id="3命令参数"><strong>3．命令参数：</strong></h3>
<p>　　<strong>必要参数:</strong></p>
<p>　　　　-c 显示更改的部分的信息</p>
<p>　　　　-f 忽略错误信息</p>
<p>　　　　-h 修复符号链接</p>
<p>　　　　-R 处理指定目录以及其子目录下的所有文件</p>
<p>　　　　-v 显示详细的处理信息</p>
<p>　　　　-deference 作用于符号链接的指向，而不是链接文件本身</p>
<p>　　<strong>选择参数:</strong></p>
<p>　　　　&ndash;reference=&lt;目录或文件&gt; 把指定的目录/文件作为参考，把操作的文件/目录设置成参考文件/目录相同拥有者和群组</p>
<p>　　　　&ndash;from=&lt;当前用户：当前群组&gt; 只有当前用户和群组跟指定的用户和群组相同时才进行改变</p>
<p>　　　　&ndash;help 显示帮助信息</p>
<p>　　　　&ndash;version 显示版本信息</p>
<p>　　<strong>4．使用实例：</strong></p>
<p>　　<strong>实例1：改变拥有者和群组</strong></p>
<p>　　<strong>命令：</strong></p>
<p>　　　　chown mail:mail log2012.log</p>
<h2 id="etcgroup文件详解">/etc/group文件详解</h2>
<p>Linux /etc/group文件与/etc/passwd和/etc/shadow文件都是有关于系统管理员对用户和用户组管理时相关的文件。linux /etc/group文件是有关于系统管理员对用户和用户组管理的文件,linux用户组的所有信息都存放在/etc/group文件中。具有某种共同特征的用户集合起来就是用户组（Group）。用户组（Group）配置文件主要有 /etc/group和/etc/gshadow，其中/etc/gshadow是/etc/group的加密信息文件。</p>
<p>将用户分组是Linux系统中对用户进行管理及控制访问权限的一种手段。每个用户都属于某个用户组；一个组中可以有多个用户，一个用户也可以属于不 同的组。当一个用户同时是多个组中的成员时，在/etc/passwd文件中记录的是用户所属的主组，也就是登录时所属的默认组，而其他组称为附加组。</p>
<p>用户组的所有信息都存放在/etc/group文件中。此文件的格式是由冒号(:)隔开若干个字段，这些字段具体如下：</p>
<p>组名:口令:组标识号:组内用户列表</p>
<p>具体解释：</p>
<p><strong>组名：</strong></p>
<p>组名是用户组的名称，由字母或数字构成。与/etc/passwd中的登录名一样，组名不应重复。</p>
<p><strong>口令：</strong></p>
<p>口令字段存放的是用户组加密后的口令字。一般Linux系统的用户组都没有口令，即这个字段一般为空，或者是*。</p>
<p><strong>组标识号：</strong></p>
<p>组标识号与用户标识号类似，也是一个整数，被系统内部用来标识组。别称GID.</p>
<p><strong>组内用户列表：</strong></p>
<p>是属于这个组的所有用户的列表，不同用户之间用逗号(,)分隔。这个用户组可能是用户的主组，也可能是附加组。</p>
<h1 id="磁盘存储">磁盘存储</h1>
<h3 id="df">df</h3>
<h3 id="1命令格式-1"><strong>1．命令格式：</strong></h3>
<p>df [选项] [文件]</p>
<h3 id="2命令功能-1"><strong>2．命令功能：</strong></h3>
<p>显示指定磁盘文件的可用空间。如果没有文件名被指定，则所有当前被挂载的文件系统的可用空间将被显示。默认情况下，磁盘空间将以 1KB 为单位进行显示，除非环境变量 POSIXLY_CORRECT 被指定，那样将以512字节为单位进行显示</p>
<h3 id="3命令参数-1"><strong>3．命令参数：</strong></h3>
<p><strong>必要参数：</strong></p>
<p>-a 全部文件系统列表</p>
<p>-h 方便阅读方式显示</p>
<p>-H 等于“-h”，但是计算式，1K=1000，而不是1K=1024</p>
<p>-i 显示inode信息</p>
<p>-k 区块为1024字节</p>
<p>-l 只显示本地文件系统</p>
<p>-m 区块为1048576字节</p>
<p>&ndash;no-sync 忽略 sync 命令</p>
<p>-P 输出格式为POSIX</p>
<p>&ndash;sync 在取得磁盘信息前，先执行sync命令</p>
<p>-T 文件系统类型</p>
<p><strong>选择参数：</strong></p>
<p>&ndash;block-size=&lt;区块大小&gt; 指定区块大小</p>
<p>-t&lt;文件系统类型&gt; 只显示选定文件系统的磁盘信息</p>
<p>-x&lt;文件系统类型&gt; 不显示选定文件系统的磁盘信息</p>
<p>&ndash;help 显示帮助信息</p>
<p>&ndash;version 显示版本信息</p>
<h2 id="du">du</h2>
<h3 id="1命令格式-2"><strong>1．命令格式：</strong></h3>
<p>du [选项][文件]</p>
<h3 id="2命令功能-2"><strong>2．命令功能：</strong></h3>
<p>显示每个文件和目录的磁盘使用空间。</p>
<h3 id="3命令参数-2"><strong>3．命令参数：</strong></h3>
<p>-a或-all 显示目录中个别文件的大小。</p>
<p>-b或-bytes 显示目录或文件大小时，以byte为单位。</p>
<p>-c或&ndash;total 除了显示个别目录或文件的大小外，同时也显示所有目录或文件的总和。</p>
<p>-k或&ndash;kilobytes 以KB(1024bytes)为单位输出。</p>
<p>-m或&ndash;megabytes 以MB为单位输出。</p>
<p>-s或&ndash;summarize 仅显示总计，只列出最后加总的值。</p>
<p>-h或&ndash;human-readable 以K，M，G为单位，提高信息的可读性。</p>
<p>-x或&ndash;one-file-xystem 以一开始处理时的文件系统为准，若遇上其它不同的文件系统目录则略过。</p>
<p>-L&lt;符号链接&gt;或&ndash;dereference&lt;符号链接&gt; 显示选项中所指定符号链接的源文件大小。</p>
<p>-S或&ndash;separate-dirs  显示个别目录的大小时，并不含其子目录的大小。</p>
<p>-X&lt;文件&gt;或&ndash;exclude-from=&lt;文件&gt; 在&lt;文件&gt;指定目录或文件。</p>
<p>&ndash;exclude=&lt;目录或文件&gt;     略过指定的目录或文件。</p>
<p>-D或&ndash;dereference-args  显示指定符号链接的源文件大小。</p>
<p>-H或&ndash;si 与-h参数相同，但是K，M，G是以1000为换算单位。</p>
<p>-l或&ndash;count-links  重复计算硬件链接的文件。</p>
<h1 id="性能监控">性能监控</h1>
<h2 id="top">top</h2>
<h3 id="1命令格式-3"><strong>1．命令格式：</strong></h3>
<p>top [参数]</p>
<h3 id="2命令功能-3"><strong>2．命令功能：</strong></h3>
<p>显示当前系统正在执行的进程的相关信息，包括进程ID、内存占用率、CPU占用率等</p>
<h3 id="3命令参数-3">**3．**命令参数：</h3>
<p>-b 批处理</p>
<p>-c 显示完整的治命令</p>
<p>-I 忽略失效过程</p>
<p>-s 保密模式</p>
<p>-S 累积模式</p>
<p>-i&lt;时间&gt; 设置间隔时间</p>
<p>-u&lt;用户名&gt; 指定用户名</p>
<p>-p&lt;进程号&gt; 指定进程</p>
<p>-n&lt;次数&gt; 循环显示的次数</p>
<h2 id="free">free</h2>
<h3 id="1命令格式-4"><strong>1．命令格式：</strong></h3>
<p>free [参数]</p>
<h3 id="2命令功能-4"><strong>2．命令功能：</strong></h3>
<p>free 命令显示系统使用和空闲的内存情况，包括物理内存、交互区内存(swap)和内核缓冲区内存。共享内存将被忽略</p>
<h3 id="3命令参数-4"><strong>3．命令参数：</strong></h3>
<p>-b 以Byte为单位显示内存使用情况。</p>
<p>-k 以KB为单位显示内存使用情况。</p>
<p>-m 以MB为单位显示内存使用情况。</p>
<p>-g  以GB为单位显示内存使用情况。</p>
<p>-o 不显示缓冲区调节列。</p>
<p>-s&lt;间隔秒数&gt; 持续观察内存使用状况。</p>
<p>-t 显示内存总和列。</p>
<p>-V 显示版本信息。</p>
<h2 id="vmstat">vmstat</h2>
<p>vmstat是Virtual Meomory Statistics（虚拟内存统计）的缩写，可对操作系统的虚拟内存、进程、CPU活动进行监控。</p>
<h3 id="物理内存和虚拟内存"><strong>物理内存和虚拟内存</strong></h3>
<p>区别：</p>
<p>我们知道，直接从物理内存读写数据要比从硬盘读写数据要快的多，因此，我们希望所有数据的读取和写入都在内存完成，而内存是有限的，这样就引出了物理内存与虚拟内存的概念。</p>
<p>物理内存就是系统硬件提供的内存大小，是真正的内存，相对于物理内存，在linux下还有一个虚拟内存的概念，虚拟内存就是为了满足物理内存的不足而提出的策略，它是利用磁盘空间虚拟出的一块逻辑内存，用作虚拟内存的磁盘空间被称为交换空间（Swap Space）。</p>
<p>作为物理内存的扩展，linux会在物理内存不足时，使用交换分区的虚拟内存，更详细的说，就是内核会将暂时不用的内存块信息写到交换空间，这样以来，物理内存得到了释放，这块内存就可以用于其它目的，当需要用到原始的内容时，这些信息会被重新从交换空间读入物理内存。</p>
<p>linux的内存管理采取的是分页存取机制，为了保证物理内存能得到充分的利用，内核会在适当的时候将物理内存中不经常使用的数据块自动交换到虚拟内存中，而将经常使用的信息保留到物理内存。</p>
<p>要深入了解linux内存运行机制，需要知道下面提到的几个方面：</p>
<p>首先，Linux系统会不时的进行页面交换操作，以保持尽可能多的空闲物理内存，即使并没有什么事情需要内存，Linux也会交换出暂时不用的内存页面。这可以避免等待交换所需的时间。</p>
<p>其次，linux进行页面交换是有条件的，不是所有页面在不用时都交换到虚拟内存，linux内核根据”最近最经常使用“算法，仅仅将一些不经常使用的页面文件交换到虚拟内存，有时我们会看到这么一个现象：linux物理内存还有很多，但是交换空间也使用了很多。其实，这并不奇怪，例如，一个占用很大内存的进程运行时，需要耗费很多内存资源，此时就会有一些不常用页面文件被交换到虚拟内存中，但后来这个占用很多内存资源的进程结束并释放了很多内存时，刚才被交换出去的页面文件并不会自动的交换进物理内存，除非有这个必要，那么此刻系统物理内存就会空闲很多，同时交换空间也在被使用，就出现了刚才所说的现象了。关于这点，不用担心什么，只要知道是怎么一回事就可以了。</p>
<p>最后，交换空间的页面在使用时会首先被交换到物理内存，如果此时没有足够的物理内存来容纳这些页面，它们又会被马上交换出去，如此以来，虚拟内存中可能没有足够空间来存储这些交换页面，最终会导致linux出现假死机、服务异常等问题，linux虽然可以在一段时间内自行恢复，但是恢复后的系统已经基本不可用了。</p>
<p>因此，合理规划和设计linux内存的使用，是非常重要的。</p>
<h3 id="虚拟内存原理"><strong>虚拟内存原理：</strong></h3>
<p>在系统中运行的每个进程都需要使用到内存，但不是每个进程都需要每时每刻使用系统分配的内存空间。当系统运行所需内存超过实际的物理内存，内核会释放某些进程所占用但未使用的部分或所有物理内存，将这部分资料存储在磁盘上直到进程下一次调用，并将释放出的内存提供给有需要的进程使用。</p>
<p>在Linux内存管理中，主要是通过“调页Paging”和“交换Swapping”来完成上述的内存调度。调页算法是将内存中最近不常使用的页面换到磁盘上，把活动页面保留在内存中供进程使用。交换技术是将整个进程，而不是部分页面，全部交换到磁盘上。</p>
<p>分页(Page)写入磁盘的过程被称作Page-Out，分页(Page)从磁盘重新回到内存的过程被称作Page-In。当内核需要一个分页时，但发现此分页不在物理内存中(因为已经被Page-Out了)，此时就发生了分页错误（Page Fault）。</p>
<p>当系统内核发现可运行内存变少时，就会通过Page-Out来释放一部分物理内存。经管Page-Out不是经常发生，但是如果Page-out频繁不断的发生，直到当内核管理分页的时间超过运行程式的时间时，系统效能会急剧下降。这时的系统已经运行非常慢或进入暂停状态，这种状态亦被称作thrashing(颠簸)。</p>
<h3 id="1命令格式-5"><strong>1．命令格式：</strong></h3>
<p>vmstat [-a] [-n] [-S unit] [delay [ count]]</p>
<p>vmstat [-s] [-n] [-S unit]</p>
<p>vmstat [-m] [-n] [delay [ count]]</p>
<p>vmstat [-d] [-n] [delay [ count]]</p>
<p>vmstat [-p disk partition] [-n] [delay [ count]]</p>
<p>vmstat [-f]</p>
<p>vmstat [-V]</p>
<h3 id="2命令功能-5"><strong>2．命令功能：</strong></h3>
<p>用来显示虚拟内存的信息</p>
<h3 id="3命令参数-5"><strong>3．命令参数：</strong></h3>
<p>-a：显示活跃和非活跃内存</p>
<p>-f：显示从系统启动至今的fork数量 。</p>
<p>-m：显示slabinfo</p>
<p>-n：只在开始时显示一次各字段名称。</p>
<p>-s：显示内存相关统计信息及多种系统活动数量。</p>
<p>delay：刷新时间间隔。如果不指定，只显示一条结果。</p>
<p>count：刷新次数。如果不指定刷新次数，但指定了刷新时间间隔，这时刷新次数为无穷。</p>
<p>-d：显示磁盘相关统计信息。</p>
<p>-p：显示指定磁盘分区统计信息</p>
<p>-S：使用指定单位显示。参数有 k 、K 、m 、M ，分别代表1000、1024、1000000、1048576字节（byte）。默认单位为K（1024 bytes）</p>
<p>-V：显示vmstat版本信息。</p>
<h2 id="iostat">iostat</h2>
<p>**1．<strong>命令格式：</strong></p>
<p>iostat[参数][时间][次数]</p>
<p><strong>2．命令功能：</strong></p>
<p>通过iostat方便查看CPU、网卡、tty设备、磁盘、CD-ROM 等等设备的活动情况, 负载信息。</p>
<p><strong>3．命令参数：</strong></p>
<p>-C 显示CPU使用情况</p>
<p>-d 显示磁盘使用情况</p>
<p>-k 以 KB 为单位显示</p>
<p>-m 以 M 为单位显示</p>
<p>-N 显示磁盘阵列(LVM) 信息</p>
<p>-n 显示NFS 使用情况</p>
<p>-p[磁盘] 显示磁盘和分区的情况</p>
<p>-t 显示终端和CPU的信息</p>
<p>-x 显示详细信息</p>
<p>-V 显示版本信息</p>
<h2 id="lsof">lsof</h2>
<h3 id="1命令格式-6">**1．<strong>命令格式：</strong></h3>
<p>lsof [参数][文件]</p>
<h3 id="2命令功能-6"><strong>2．命令功能：</strong></h3>
<p>用于查看你进程开打的文件，打开文件的进程，进程打开的端口(TCP、UDP)。找回/恢复删除的文件。是十分方便的系统监视工具，因为 lsof 需要访问核心内存和各种文件，所以需要root用户执行。</p>
<p>lsof打开的文件可以是：</p>
<p>1.普通文件</p>
<p>2.目录</p>
<p>3.网络文件系统的文件</p>
<p>4.字符或设备文件</p>
<p>5.(函数)共享库</p>
<p>6.管道，命名管道</p>
<p>7.符号链接</p>
<p>8.网络文件（例如：NFS file、网络socket，unix域名socket）</p>
<p>9.还有其它类型的文件，等等</p>
<h3 id="3命令参数-6"><strong>3．命令参数：</strong></h3>
<p>-a 列出打开文件存在的进程</p>
<p>-c&lt;进程名&gt; 列出指定进程所打开的文件</p>
<p>-g 列出GID号进程详情</p>
<p>-d&lt;文件号&gt; 列出占用该文件号的进程</p>
<p>+d&lt;目录&gt; 列出目录下被打开的文件</p>
<p>+D&lt;目录&gt; 递归列出目录下被打开的文件</p>
<p>-n&lt;目录&gt; 列出使用NFS的文件</p>
<p>-i&lt;条件&gt; 列出符合条件的进程。（4、6、协议、:端口、 @ip ）</p>
<p>-p&lt;进程号&gt; 列出指定进程号所打开的文件</p>
<p>-u 列出UID号进程详情</p>
<p>-h 显示帮助信息</p>
<p>-v 显示版本信息</p>
<p>**4．**<strong>使用实例：</strong></p>
<p><strong>实例****1：无任何参数</strong></p>
<p><strong>命令：</strong></p>
<p>lsof</p>
<p><strong>输出：</strong></p>
<p>​	[root@localhost ~]# lsof</p>
<pre><code>COMMAND   PID USER  FD   TYPE       DEVICE   SIZE    NODE NAME
init     1 root cwd    DIR        8,2   4096     2 /
init     1 root rtd    DIR        8,2   4096     2 /
init     1 root txt    REG        8,2  43496  6121706 /sbin/init
init     1 root mem    REG        8,2  143600  7823908 /lib64/ld-2.5.so
init     1 root mem    REG        8,2 1722304  7823915 /lib64/libc-2.5.so
init     1 root mem    REG        8,2  23360  7823919 /lib64/libdl-2.5.so
init     1 root mem    REG        8,2  95464  7824116 /lib64/libselinux.so.1
init     1 root mem    REG        8,2  247496  7823947 /lib64/libsepol.so.1
init     1 root  10u   FIFO        0,17        1233 /dev/initctl
migration   2 root cwd    DIR        8,2   4096     2 /
migration   2 root rtd    DIR        8,2   4096     2 /
migration   2 root txt  unknown                    /proc/2/exe
ksoftirqd   3 root cwd    DIR        8,2   4096     2 /
ksoftirqd   3 root rtd    DIR        8,2   4096     2 /
ksoftirqd   3 root txt  unknown                    /proc/3/exe
migration   4 root cwd    DIR        8,2   4096     2 /
migration   4 root rtd    DIR        8,2   4096     2 /
migration   4 root txt  unknown                    /proc/4/exe
ksoftirqd   5 root cwd    DIR        8,2   4096     2 /
ksoftirqd   5 root rtd    DIR        8,2   4096     2 /
ksoftirqd   5 root txt  unknown                    /proc/5/exe
events/0   6 root cwd    DIR        8,2   4096     2 /
events/0   6 root rtd    DIR        8,2   4096     2 /
events/0   6 root txt  unknown                    /proc/6/exe
events/1   7 root cwd    DIR        8,2   4096     2 /
</code></pre><p><strong>说明：</strong></p>
<p><strong>lsof输出各列信息的意义如下：</strong></p>
<p>COMMAND：进程的名称</p>
<p>PID：进程标识符</p>
<p>PPID：父进程标识符（需要指定-R参数）</p>
<p>USER：进程所有者</p>
<p>PGID：进程所属组</p>
<p>FD：文件描述符，应用程序通过文件描述符识别该文件。如cwd、txt等</p>
<p>（1）cwd：表示current work dirctory，即：应用程序的当前工作目录，这是该应用程序启动的目录，除非它本身对这个目录进行更改</p>
<p>（2）txt ：该类型的文件是程序代码，如应用程序二进制文件本身或共享库，如上列表中显示的 /sbin/init 程序</p>
<p>（3）lnn：library references (AIX);</p>
<p>（4）er：FD information error (see NAME column);</p>
<p>（5）jld：jail directory (FreeBSD);</p>
<p>（6）ltx：shared library text (code and data);</p>
<p>（7）mxx ：hex memory-mapped type number xx.</p>
<p>（8）m86：DOS Merge mapped file;</p>
<p>（9）mem：memory-mapped file;</p>
<p>（10）mmap：memory-mapped device;</p>
<p>（11）pd：parent directory;</p>
<p>（12）rtd：root directory;</p>
<p>（13）tr：kernel trace file (OpenBSD);</p>
<p>（14）v86 VP/ix mapped file;</p>
<p>（15）0：表示标准输出</p>
<p>（16）1：表示标准输入</p>
<p>（17）2：表示标准错误</p>
<p>一般在标准输出、标准错误、标准输入后还跟着文件状态模式：r、w、u等</p>
<p>（1）u：表示该文件被打开并处于读取/写入模式</p>
<p>（2）r：表示该文件被打开并处于只读模式</p>
<p>（3）w：表示该文件被打开并处于</p>
<p>（4）空格：表示该文件的状态模式为unknow，且没有锁定</p>
<p>（5）-：表示该文件的状态模式为unknow，且被锁定</p>
<p>同时在文件状态模式后面，还跟着相关的锁</p>
<p>（1）N：for a Solaris NFS lock of unknown type;</p>
<p>（2）r：for read lock on part of the file;</p>
<p>（3）R：for a read lock on the entire file;</p>
<p>（4）w：for a write lock on part of the file;（文件的部分写锁）</p>
<p>（5）W：for a write lock on the entire file;（整个文件的写锁）</p>
<p>（6）u：for a read and write lock of any length;</p>
<p>（7）U：for a lock of unknown type;</p>
<p>（8）x：for an SCO OpenServer Xenix lock on part   of the file;</p>
<p>（9）X：for an SCO OpenServer Xenix lock on the   entire file;</p>
<p>（10）space：if there is no lock.</p>
<p>TYPE：文件类型，如DIR、REG等，常见的文件类型</p>
<p>（1）DIR：表示目录</p>
<p>（2）CHR：表示字符类型</p>
<p>（3）BLK：块设备类型</p>
<p>（4）UNIX： UNIX 域套接字</p>
<p>（5）FIFO：先进先出 (FIFO) 队列</p>
<p>（6）IPv4：网际协议 (IP) 套接字</p>
<p>DEVICE：指定磁盘的名称</p>
<p>SIZE：文件的大小</p>
<p>NODE：索引节点（文件在磁盘上的标识）</p>
<p>NAME：打开文件的确切名称</p>
<h2 id="网络命令">网络命令</h2>
<p><strong>1．命令格式：</strong></p>
<p>ifconfig [网络设备] [参数]</p>
<p><strong>2．命令功能：</strong></p>
<p>ifconfig 命令用来查看和配置网络设备。当网络环境发生改变时可通过此命令对网络进行相应的配置。</p>
<p><strong>3．命令参数：</strong></p>
<p>up 启动指定网络设备/网卡。</p>
<p>down 关闭指定网络设备/网卡。该参数可以有效地阻止通过指定接口的IP信息流，如果想永久地关闭一个接口，我们还需要从核心路由表中将该接口的路由信息全部删除。</p>
<p>arp 设置指定网卡是否支持ARP协议。</p>
<p>-promisc 设置是否支持网卡的promiscuous模式，如果选择此参数，网卡将接收网络中发给它所有的数据包</p>
<p>-allmulti 设置是否支持多播模式，如果选择此参数，网卡将接收网络中所有的多播数据包</p>
<p>-a 显示全部接口信息</p>
<p>-s 显示摘要信息（类似于 netstat -i）</p>
<p>add 给指定网卡配置IPv6地址</p>
<p>del 删除指定网卡的IPv6地址</p>
<p>&lt;硬件地址&gt; 配置网卡最大的传输单元</p>
<p>mtu&lt;字节数&gt; 设置网卡的最大传输单元 (bytes)</p>
<p>netmask&lt;子网掩码&gt; 设置网卡的子网掩码。掩码可以是有前缀0x的32位十六进制数，也可以是用点分开的4个十进制数。如果不打算将网络分成子网，可以不管这一选项；如果要使用子网，那么请记住，网络中每一个系统必须有相同子网掩码。</p>
<p>tunel 建立隧道</p>
<p>dstaddr 设定一个远端地址，建立点对点通信</p>
<p>-broadcast&lt;地址&gt; 为指定网卡设置广播协议</p>
<p>-pointtopoint&lt;地址&gt; 为网卡设置点对点通讯协议</p>
<p>multicast 为网卡设置组播标志</p>
<p>address 为网卡设置IPv4地址</p>
<p>txqueuelen&lt;长度&gt; 为网卡设置传输列队的长度</p>
<h2 id="route">route</h2>
<p>Linux系统的route命令用于显示和操作IP路由表（show / manipulate the IP routing table）。要实现两个不同的子网之间的通信，需要一台连接两个网络的路由器，或者同时位于两个网络的网关来实现。在Linux系统中，设置路由通常是为了解决以下问题：该Linux系统在一个局域网中，局域网中有一个网关，能够让机器访问Internet，那么就需要将这台机器的IP地址设置为Linux机器的默认路由。要注意的是，直接在命令行下执行route命令来添加路由，不会永久保存，当网卡重启或者机器重启之后，该路由就失效了；可以在/etc/rc.local中添加route命令来保证该路由设置永久有效。</p>
<h3 id="1命令格式-7"><strong>1．命令格式：</strong></h3>
<p>route [-f] [-p] [Command [Destination] [mask Netmask] [Gateway] [metric Metric]] [if Interface]]</p>
<h3 id="2命令功能-7"><strong>2．命令功能：</strong></h3>
<p>Route命令是用于操作基于内核ip路由表，它的主要作用是创建一个静态路由让指定一个主机或者一个网络通过一个网络接口，如eth0。当使用&quot;add&quot;或者&quot;del&quot;参数时，路由表被修改，如果没有参数，则显示路由表当前的内容。</p>
<h3 id="3命令参数-7"><strong>3．命令参数：</strong></h3>
<p>-c 显示更多信息</p>
<p>-n 不解析名字</p>
<p>-v 显示详细的处理信息</p>
<p>-F 显示发送信息</p>
<p>-C 显示路由缓存</p>
<p>-f 清除所有网关入口的路由表。</p>
<p>-p 与 add 命令一起使用时使路由具有永久性。</p>
<p>add:添加一条新路由。</p>
<p>del:删除一条路由。</p>
<p>-net:目标地址是一个网络。</p>
<p>-host:目标地址是一个主机。</p>
<p>netmask:当添加一个网络路由时，需要使用网络掩码。</p>
<p>gw:路由数据包通过网关。注意，你指定的网关必须能够达到。</p>
<p>metric：设置路由跳数。</p>
<p>Command 指定您想运行的命令 (Add/Change/Delete/Print)。</p>
<p>Destination 指定该路由的网络目标。</p>
<p>mask Netmask 指定与网络目标相关的网络掩码（也被称作子网掩码）。</p>
<p>Gateway 指定网络目标定义的地址集和子网掩码可以到达的前进或下一跃点 IP 地址。</p>
<p>metric Metric 为路由指定一个整数成本值标（从 1 至 9999），当在路由表(与转发的数据包目标地址最匹配)的多个路由中进行选择时可以使用。</p>
<p>if Interface 为可以访问目标的接口指定接口索引。若要获得一个接口列表和它们相应的接口索引，使用 route print 命令的显示功能。可以使用十进制或十六进制值进行接口索引。</p>
<p>**4．**<strong>使用实例：</strong></p>
<p>**实例1：**<strong>显示当前路由</strong></p>
<p><strong>命令：</strong></p>
<p>route</p>
<p>route -n</p>
<p><strong>输出：</strong></p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-shell" data-lang="shell"><span style="color:#f92672">[</span>root@localhost ~<span style="color:#f92672">]</span><span style="color:#75715e"># route</span>
Kernel IP routing table
Destination   Gateway     Genmask     Flags Metric Ref  Use Iface
192.168.120.0  *        255.255.255.0  U   <span style="color:#ae81ff">0</span>   <span style="color:#ae81ff">0</span>    <span style="color:#ae81ff">0</span> eth0
e192.168.0.0   192.168.120.1  255.255.0.0   UG  <span style="color:#ae81ff">0</span>   <span style="color:#ae81ff">0</span>    <span style="color:#ae81ff">0</span> eth0
10.0.0.0    192.168.120.1  255.0.0.0    UG  <span style="color:#ae81ff">0</span>   <span style="color:#ae81ff">0</span>    <span style="color:#ae81ff">0</span> eth0
default     192.168.120.240 0.0.0.0     UG  <span style="color:#ae81ff">0</span>   <span style="color:#ae81ff">0</span>    <span style="color:#ae81ff">0</span> eth0
<span style="color:#f92672">[</span>root@localhost ~<span style="color:#f92672">]</span><span style="color:#75715e"># route -n</span>
Kernel IP routing table
Destination   Gateway     Genmask     Flags Metric Ref  Use Iface
192.168.120.0  0.0.0.0     255.255.255.0  U   <span style="color:#ae81ff">0</span>   <span style="color:#ae81ff">0</span>    <span style="color:#ae81ff">0</span> eth0
192.168.0.0   192.168.120.1  255.255.0.0   UG  <span style="color:#ae81ff">0</span>   <span style="color:#ae81ff">0</span>    <span style="color:#ae81ff">0</span> eth0
10.0.0.0    192.168.120.1  255.0.0.0    UG  <span style="color:#ae81ff">0</span>   <span style="color:#ae81ff">0</span>    <span style="color:#ae81ff">0</span> eth0
0.0.0.0     192.168.120.240 0.0.0.0     UG  <span style="color:#ae81ff">0</span>   <span style="color:#ae81ff">0</span>    <span style="color:#ae81ff">0</span> eth0
</code></pre></div><p><strong>说明：</strong></p>
<p>第一行表示主机所在网络的地址为192.168.120.0，若数据传送目标是在本局域网内通信，则可直接通过eth0转发数据包;</p>
<p>第四行表示数据传送目的是访问Internet，则由接口eth0，将数据包发送到网关192.168.120.240</p>
<p>其中Flags为路由标志，标记当前网络节点的状态。</p>
<p>Flags标志说明：</p>
<p>U Up表示此路由当前为启动状态</p>
<p>H Host，表示此网关为一主机</p>
<p>G Gateway，表示此网关为一路由器</p>
<p>R Reinstate Route，使用动态路由重新初始化的路由</p>
<p>D Dynamically,此路由是动态性地写入</p>
<p>M Modified，此路由是由路由守护程序或导向器动态修改</p>
<p>! 表示此路由当前为关闭状态</p>
<p>备注：</p>
<p>route -n (-n 表示不解析名字,列出速度会比route 快)</p>
<p><strong>实例2：添加网关/设置网关</strong></p>
<p><strong>命令：</strong></p>
<p>route add -net 224.0.0.0 netmask 240.0.0.0 dev eth0</p>
<p><strong>实例3：屏蔽一条路由</strong></p>
<p><strong>命令：</strong></p>
<p>route add -net 224.0.0.0 netmask 240.0.0.0 reject</p>
<p><strong>实例4：删除路由记录</strong></p>
<p><strong>命令：</strong></p>
<p>route del -net 224.0.0.0 netmask 240.0.0.0</p>
<p>route del -net 224.0.0.0 netmask 240.0.0.0 reject</p>
<h2 id="traceroute">traceroute</h2>
<h3 id="1命令格式-8"><strong>1.命令格式：</strong></h3>
<p>traceroute[参数][主机]</p>
<h3 id="2命令功能-8"><strong>2.命令功能：</strong></h3>
<p>traceroute指令让你追踪网络数据包的路由途径，预设数据包大小是40Bytes，用户可另行设置。</p>
<p>具体参数格式：traceroute [-dFlnrvx][-f&lt;存活数值&gt;][-g&lt;网关&gt;&hellip;][-i&lt;网络界面&gt;][-m&lt;存活数值&gt;][-p&lt;通信端口&gt;][-s&lt;来源地址&gt;][-t&lt;服务类型&gt;][-w&lt;超时秒数&gt;][主机名称或IP地址][数据包大小]</p>
<h3 id="3命令参数-8"><strong>3.命令参数：</strong></h3>
<p>-d 使用Socket层级的排错功能。</p>
<p>-f 设置第一个检测数据包的存活数值TTL的大小。</p>
<p>-F 设置勿离断位。</p>
<p>-g 设置来源路由网关，最多可设置8个。</p>
<p>-i 使用指定的网络界面送出数据包。</p>
<p>-I 使用ICMP回应取代UDP资料信息。</p>
<p>-m 设置检测数据包的最大存活数值TTL的大小。</p>
<p>-n 直接使用IP地址而非主机名称。</p>
<p>-p 设置UDP传输协议的通信端口。</p>
<p>-r 忽略普通的Routing Table，直接将数据包送到远端主机上。</p>
<p>-s 设置本地主机送出数据包的IP地址。</p>
<p>-t 设置检测数据包的TOS数值。</p>
<p>-v 详细显示指令的执行过程。</p>
<p>-w 设置等待远端主机回报的时间。</p>
<p>-x 开启或关闭数据包的正确性检验。</p>
<h2 id="netstat">netstat</h2>
<p>netstat命令用于显示与IP、TCP、UDP和ICMP协议相关的统计数据，一般用于检验本机各端口的网络连接情况。netstat是在内核中访问网络及相关信息的程序，它能提供TCP连接，TCP和UDP监听，进程内存管理的相关报告。</p>
<p>如果你的计算机有时候接收到的数据报导致出错数据或故障，你不必感到奇怪，TCP/IP可以容许这些类型的错误，并能够自动重发数据报。但如果累计的出错情况数目占到所接收的IP数据报相当大的百分比，或者它的数目正迅速增加，那么你就应该使用netstat查一查为什么会出现这些情况了。</p>
<p>**1．**<strong>命令格式：</strong></p>
<p>netstat [-acCeFghilMnNoprstuvVwx][-A&lt;网络类型&gt;][&ndash;ip]</p>
<p>**2．**<strong>命令功能：</strong></p>
<p>netstat用于显示与IP、TCP、UDP和ICMP协议相关的统计数据，一般用于检验本机各端口的网络连接情况。</p>
<p>**3．**<strong>命令参数：</strong></p>
<p>-a或–all 显示所有连线中的Socket。</p>
<p>-A&lt;网络类型&gt;或–&lt;网络类型&gt; 列出该网络类型连线中的相关地址。</p>
<p>-c或–continuous 持续列出网络状态。</p>
<p>-C或–cache 显示路由器配置的快取信息。</p>
<p>-e或–extend 显示网络其他相关信息。</p>
<p>-F或–fib 显示FIB。</p>
<p>-g或–groups 显示多重广播功能群组组员名单。</p>
<p>-h或–help 在线帮助。</p>
<p>-i或–interfaces 显示网络界面信息表单。</p>
<p>-l或–listening 显示监控中的服务器的Socket。</p>
<p>-M或–masquerade 显示伪装的网络连线。</p>
<p>-n或–numeric 直接使用IP地址，而不通过域名服务器。</p>
<p>-N或–netlink或–symbolic 显示网络硬件外围设备的符号连接名称。</p>
<p>-o或–timers 显示计时器。</p>
<p>-p或–programs 显示正在使用Socket的程序识别码和程序名称。</p>
<p>-r或–route 显示Routing Table。</p>
<p>-s或–statistice 显示网络工作信息统计表。</p>
<p>-t或–tcp 显示TCP传输协议的连线状况。</p>
<p>-u或–udp 显示UDP传输协议的连线状况。</p>
<p>-v或–verbose 显示指令执行过程。</p>
<p>-V或–version 显示版本信息。</p>
<p>-w或–raw 显示RAW传输协议的连线状况。</p>
<p>-x或–unix 此参数的效果和指定”-A unix”参数相同。</p>
<p>–ip或–inet 此参数的效果和指定”-A inet”参数相同。</p>
<h2 id="ss">ss</h2>
<p>ss是Socket Statistics的缩写。顾名思义，ss命令可以用来获取socket统计信息，它可以显示和netstat类似的内容。但ss的优势在于它能够显示更多更详细的有关TCP和连接状态的信息，而且比netstat更快速更高效。</p>
<p>当服务器的socket连接数量变得非常大时，无论是使用netstat命令还是直接cat /proc/net/tcp，执行速度都会很慢。可能你不会有切身的感受，但请相信我，当服务器维持的连接达到上万个的时候，使用netstat等于浪费 生命，而用ss才是节省时间。</p>
<p>天下武功唯快不破。ss快的秘诀在于，它利用到了TCP协议栈中tcp_diag。tcp_diag是一个用于分析统计的模块，可以获得Linux 内核中第一手的信息，这就确保了ss的快捷高效。当然，如果你的系统中没有tcp_diag，ss也可以正常运行，只是效率会变得稍慢。（但仍然比 netstat要快。）</p>
<h3 id="1命令格式-9"><strong>1.命令格式:</strong></h3>
<p>ss [参数]</p>
<p>ss [参数] [过滤]</p>
<h3 id="2命令功能-9"><strong>2.命令功能：</strong></h3>
<p>ss(Socket Statistics的缩写)命令可以用来获取 socket统计信息，此命令输出的结果类似于 netstat输出的内容，但它能显示更多更详细的 TCP连接状态的信息，且比 netstat 更快速高效。它使用了 TCP协议栈中 tcp_diag（是一个用于分析统计的模块），能直接从获得第一手内核信息，这就使得 ss命令快捷高效。在没有 tcp_diag，ss也可以正常运行。</p>
<h3 id="3命令参数-9"><strong>3.命令参数：</strong></h3>
<p>-h, &ndash;help 帮助信息</p>
<p>-V, &ndash;version 程序版本信息</p>
<p>-n, &ndash;numeric 不解析服务名称</p>
<p>-r, &ndash;resolve    解析主机名</p>
<p>-a, &ndash;all 显示所有套接字（sockets）</p>
<p>-l, &ndash;listening 显示监听状态的套接字（sockets）</p>
<p>-o, &ndash;options    显示计时器信息</p>
<p>-e, &ndash;extended    显示详细的套接字（sockets）信息</p>
<p>-m, &ndash;memory     显示套接字（socket）的内存使用情况</p>
<p>-p, &ndash;processes 显示使用套接字（socket）的进程</p>
<p>-i, &ndash;info 显示 TCP内部信息</p>
<p>-s, &ndash;summary 显示套接字（socket）使用概况</p>
<p>-4, &ndash;ipv4      仅显示IPv4的套接字（sockets）</p>
<p>-6, &ndash;ipv6      仅显示IPv6的套接字（sockets）</p>
<p>-0, &ndash;packet     显示 PACKET 套接字（socket）</p>
<p>-t, &ndash;tcp 仅显示 TCP套接字（sockets）</p>
<p>-u, &ndash;udp 仅显示 UCP套接字（sockets）</p>
<p>-d, &ndash;dccp 仅显示 DCCP套接字（sockets）</p>
<p>-w, &ndash;raw 仅显示 RAW套接字（sockets）</p>
<p>-x, &ndash;unix 仅显示 Unix套接字（sockets）</p>
<p>-f, &ndash;family=FAMILY 显示 FAMILY类型的套接字（sockets），FAMILY可选，支持 unix, inet, inet6, link, netlink</p>
<p>-A, &ndash;query=QUERY, &ndash;socket=QUERY</p>
<p>QUERY := {all|inet|tcp|udp|raw|unix|packet|netlink}[,QUERY]</p>
<p>-D, &ndash;diag=FILE   将原始TCP套接字（sockets）信息转储到文件</p>
<p>-F, &ndash;filter=FILE  从文件中都去过滤器信息</p>
<p>​    FILTER := [ state TCP-STATE ] [ EXPRESSION ]</p>
<h2 id="telnet">telnet</h2>
<p>telnet命令通常用来远程登录。telnet程序是基于TELNET协议的远程登录客户端程序。Telnet协议是TCP/IP协议族中的一员，是Internet远程登陆服务的标准协议和主要方式。它为用户提供了在本地计算机上完成远程主机工作的 能力。在终端使用者的电脑上使用telnet程序，用它连接到服务器。终端使用者可以在telnet程序中输入命令，这些命令会在服务器上运行，就像直接在服务器的控制台上输入一样。可以在本地就能控制服务器。要开始一个 telnet会话，必须输入用户名和密码来登录服务器。Telnet是常用的远程控制Web服务器的方法。</p>
<p>　　但是，telnet因为采用明文传送报文，安全性不好，很多Linux服务器都不开放telnet服务，而改用更安全的ssh方式了。但仍然有很多别的系统可能采用了telnet方式来提供远程登录，因此弄清楚telnet客户端的使用方式仍是很有必要的。</p>
<p>telnet命令还可做别的用途，比如确定远程服务的状态，比如确定远程服务器的某个端口是否能访问。</p>
<h3 id="1命令格式-10"><strong>1．命令格式：</strong></h3>
<p>telnet[参数][主机]</p>
<h3 id="2命令功能-10">**2．**命令功能：</h3>
<p>执行telnet指令开启终端机阶段作业，并登入远端主机。</p>
<h3 id="3命令参数-10"><strong>3．命令参数：</strong></h3>
<p>-8 允许使用8位字符资料，包括输入与输出。</p>
<p>-a 尝试自动登入远端系统。</p>
<p>-b&lt;主机别名&gt; 使用别名指定远端主机名称。</p>
<p>-c 不读取用户专属目录里的.telnetrc文件。</p>
<p>-d 启动排错模式。</p>
<p>-e&lt;脱离字符&gt; 设置脱离字符。</p>
<p>-E 滤除脱离字符。</p>
<p>-f 此参数的效果和指定&quot;-F&quot;参数相同。</p>
<p>-F 使用Kerberos V5认证时，加上此参数可把本地主机的认证数据上传到远端主机。</p>
<p>-k&lt;域名&gt; 使用Kerberos认证时，加上此参数让远端主机采用指定的领域名，而非该主机的域名。</p>
<p>-K 不自动登入远端主机。</p>
<p>-l&lt;用户名称&gt; 指定要登入远端主机的用户名称。</p>
<p>-L 允许输出8位字符资料。</p>
<p>-n&lt;记录文件&gt; 指定文件记录相关信息。</p>
<p>-r 使用类似rlogin指令的用户界面。</p>
<p>-S&lt;服务类型&gt; 设置telnet连线所需的IP TOS信息。</p>
<p>-x 假设主机有支持数据加密的功能，就使用它。</p>
<p>-X&lt;认证形态&gt; 关闭指定的认证形态。</p>
<h2 id="rcp">rcp</h2>
<p>rcp代表“remote file copy”（远程文件拷贝）。该命令用于在计算机之间拷贝文件。rcp命令有两种格式。第一种格式用于文件到文件的拷贝；第二种格式用于把文件或目录拷贝到另一个目录中。</p>
<h3 id="1命令格式-11"><strong>1．命令格式：</strong></h3>
<p>rcp [参数] [源文件] [目标文件]</p>
<h3 id="2命令功能-11"><strong>2．命令功能：</strong></h3>
<p>rcp命令用在远端复制文件或目录，如同时指定两个以上的文件或目录，且最后的目的地是一个已经存在的目录，则它会把前面指定的所有文件或目录复制到该目录中。</p>
<h3 id="3命令参数-11"><strong>3．命令参数：</strong></h3>
<p>各选项含义：</p>
<p>-r 递归地把源目录中的所有内容拷贝到目的目录中。要使用这个选项，目的必须是一个目录。</p>
<p>-p 试图保留源文件的修改时间和模式，忽略umask。</p>
<p>-k 请求rcp获得在指定区域内的远程主机的Kerberos 许可，而不是获得由krb_relmofhost⑶确定的远程主机区域内的远程主机的Kerberos许可。</p>
<p>-x 为传送的所有数据打开DES加密。这会影响响应时间和CPU利用率，但是可以提高安全性。如果在文件名中指定的路径不是完整的路径名，那么这个路径被解释为相对远程机上同名用户的主目录。如果没有给出远程用户名，就使用当前用户名。如果远程机上的路径包含特殊shell字符，需要用反斜线（\）、双引号（”）或单引号（’）括起来，使所有的shell元字符都能被远程地解释。需要说明的是，rcp不提示输入口令，它通过rsh命令来执行拷贝。</p>
<p>directory 每个文件或目录参数既可以是远程文件名也可以是本地文件名。远程文件名具有如下形式：rname@rhost：path，其中rname是远程用户名，rhost是远程计算机名，path是这个文件的路径。</p>
<h2 id="scp">scp</h2>
<p>scp是secure copy的简写，用于在Linux下进行远程拷贝文件的命令，和它类似的命令有cp，不过cp只是在本机进行拷贝不能跨服务器，而且scp传输是加密的。可能会稍微影响一下速度。当你服务器硬盘变为只读 read only system时，用scp可以帮你把文件移出来。另外，scp还非常不占资源，不会提高多少系统负荷，在这一点上，rsync就远远不及它了。虽然 rsync比scp会快一点，但当小文件众多的情况下，rsync会导致硬盘I/O非常高，而scp基本不影响系统正常使用。</p>
<h3 id="1命令格式-12"><strong>1．命令格式：</strong></h3>
<p>scp [参数] [原路径] [目标路径]</p>
<h3 id="2命令功能-12"><strong>2．命令功能：</strong></h3>
<p>scp是 secure copy的缩写, scp是linux系统下基于ssh登陆进行安全的远程文件拷贝命令。linux的scp命令可以在linux服务器之间复制文件和目录。</p>
<h3 id="3命令参数-12"><strong>3．命令参数：</strong></h3>
<p>-1 强制scp命令使用协议ssh1</p>
<p>-2 强制scp命令使用协议ssh2</p>
<p>-4 强制scp命令只使用IPv4寻址</p>
<p>-6 强制scp命令只使用IPv6寻址</p>
<p>-B 使用批处理模式（传输过程中不询问传输口令或短语）</p>
<p>-C 允许压缩。（将-C标志传递给ssh，从而打开压缩功能）</p>
<p>-p 保留原文件的修改时间，访问时间和访问权限。</p>
<p>-q 不显示传输进度条。</p>
<p>-r 递归复制整个目录。</p>
<p>-v 详细方式显示输出。scp和ssh(1)会显示出整个过程的调试信息。这些信息用于调试连接，验证和配置问题。</p>
<p>-c cipher 以cipher将数据传输进行加密，这个选项将直接传递给ssh。</p>
<p>-F ssh_config 指定一个替代的ssh配置文件，此参数直接传递给ssh。</p>
<p>-i identity_file 从指定文件中读取传输时使用的密钥文件，此参数直接传递给ssh。</p>
<p>-l limit 限定用户所能使用的带宽，以Kbit/s为单位。</p>
<p>-o ssh_option 如果习惯于使用ssh_config(5)中的参数传递方式，</p>
<p>-P port 注意是大写的P, port是指定数据传输用到的端口号</p>
<p>-S program 指定加密传输时所使用的程序。此程序必须能够理解ssh(1)的选项。</p>

    </div>

    <div class="post-copyright">
             
            <p class="copyright-item">
                <span>Author:</span>
                <span>jiangfy </span>
                </p>
            
           
             
            <p class="copyright-item">
                    <span>Link:</span>
                    <a href=https://example.com/2020/linux_commond_other/>https://example.com/2020/linux_commond_other/</span>
            </p>
            
             
            <p class="copyright-item lincese">
                本文采用<a rel="license" href="http://creativecommons.org/licenses/by-nc/4.0/" target="_blank">知识共享署名-非商业性使用 4.0 国际许可协议</a>进行许可
            </p>
            
    </div>

  
    <div class="post-tags">
        
            <section>
            <i class="iconfont icon-tag"></i>Tag(s): 
            
            <span class="tag"><a href="https://example.com/tags/linux/">
                    #Linux</a></span>
            
            <span class="tag"><a href="https://example.com/tags/cmd/">
                    #cmd</a></span>
            
            </section>
        
        <section>
                <a href="javascript:window.history.back();">back</a></span> · 
                <span><a href="https://example.com">home</a></span>
        </section>
    </div>

    <div class="post-nav">
        
        <a href="https://example.com/2020/linux_commond_file_dir_property/" class="prev" rel="prev" title="Linux Commond --- File Dir Property"><i class="iconfont icon-left"></i>&nbsp;Linux Commond --- File Dir Property</a>
         
        
    </div>

    <div class="post-comment">
          
                 
          
    </div>
</article>
          </div>
		   </main>
      <footer class="footer">
    <div class="copyright">
        &copy;
        
        <span itemprop="copyrightYear">2011 - 2020</span>
        
        <span class="with-love">
    	 <i class="iconfont icon-love"></i> 
         </span>
         
            <span class="author" itemprop="copyrightHolder"><a href="https://example.com">jiangfy</a> | </span> 
         

         
		  <span>Powered by <a href="https://gohugo.io/" target="_blank" rel="external nofollow">Hugo</a> & <a href="https://github.com/liuzc/leaveit" target="_blank" rel="external nofollow">LeaveIt</a></span> 
    </div>
</footer>












    
    
    <script src="/js/vendor_no_gallery.min.js" async=""></script>
    
  



     </div>
  </body>
</html>
